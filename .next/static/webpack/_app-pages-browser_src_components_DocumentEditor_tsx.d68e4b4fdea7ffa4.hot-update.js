"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_DocumentEditor_tsx",{

/***/ "(app-pages-browser)/./src/components/DocumentEditor.tsx":
/*!*******************************************!*\
  !*** ./src/components/DocumentEditor.tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _PricingDisplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PricingDisplay */ \"(app-pages-browser)/./src/components/PricingDisplay.tsx\");\n/* harmony import */ var _PublishSettingsModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PublishSettingsModal */ \"(app-pages-browser)/./src/components/PublishSettingsModal.tsx\");\n/* harmony import */ var _SaveToBlockchainModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SaveToBlockchainModal */ \"(app-pages-browser)/./src/components/SaveToBlockchainModal.tsx\");\n/* harmony import */ var _TokenizeModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TokenizeModal */ \"(app-pages-browser)/./src/components/TokenizeModal.tsx\");\n/* harmony import */ var _PostToTwitterModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PostToTwitterModal */ \"(app-pages-browser)/./src/components/PostToTwitterModal.tsx\");\n/* harmony import */ var _modals_DocumentVersioningModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modals/DocumentVersioningModal */ \"(app-pages-browser)/./src/components/modals/DocumentVersioningModal.tsx\");\n/* harmony import */ var _services_BSVStorageService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/BSVStorageService */ \"(app-pages-browser)/./src/services/BSVStorageService.ts\");\n/* harmony import */ var _services_HandCashItemsService__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/HandCashItemsService */ \"(app-pages-browser)/./src/services/HandCashItemsService.ts\");\n/* harmony import */ var _services_HandCashService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../services/HandCashService */ \"(app-pages-browser)/./src/services/HandCashService.ts\");\n/* harmony import */ var _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/documentStorage */ \"(app-pages-browser)/./src/utils/documentStorage.ts\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! crypto-js */ \"(app-pages-browser)/./node_modules/crypto-js/index.js\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _TiptapEditor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./TiptapEditor */ \"(app-pages-browser)/./src/components/TiptapEditor.tsx\");\n/* harmony import */ var _DragDropZone__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DragDropZone */ \"(app-pages-browser)/./src/components/DragDropZone.tsx\");\n/* harmony import */ var _AIChatWindow__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AIChatWindow */ \"(app-pages-browser)/./src/components/AIChatWindow.tsx\");\n/* harmony import */ var _services_AIService__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../services/AIService */ \"(app-pages-browser)/./src/services/AIService.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DocumentEditor = (param)=>{\n    let { documentService, isAuthenticated, onAuthRequired, currentDocument: propDocument, onDocumentUpdate, onDocumentSaved, showAIChat: propShowAIChat = false, onToggleAIChat } = param;\n    var _documentService_handcashService_getCurrentUser, _documentService_handcashService, _documentService_handcashService_getCurrentUser1, _documentService_handcashService1;\n    _s();\n    const [currentDocument, setCurrentDocument] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [localDocumentId, setLocalDocumentId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [wordCount, setWordCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [charCount, setCharCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [cursorPosition, setCursorPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('Line 1, Column 1');\n    const [autoSaveStatus, setAutoSaveStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [lastSaveTime, setLastSaveTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [unsavedChanges, setUnsavedChanges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastHashTime, setLastHashTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedStorageOption, setSelectedStorageOption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editorContent, setEditorContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [internalShowAIChat, setInternalShowAIChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedAIProvider, setSelectedAIProvider] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('gemini');\n    const [aiService] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"DocumentEditor.useState\": ()=>new _services_AIService__WEBPACK_IMPORTED_MODULE_16__.AIService(new _services_HandCashService__WEBPACK_IMPORTED_MODULE_10__.HandCashService())\n    }[\"DocumentEditor.useState\"]);\n    const showAIChat = onToggleAIChat ? propShowAIChat : internalShowAIChat;\n    const handleToggleAIChat = onToggleAIChat || (()=>setInternalShowAIChat(!internalShowAIChat));\n    const [showPublishModal, setShowPublishModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [publishSettings, setPublishSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isEncrypted, setIsEncrypted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [readPrice, setReadPrice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showSaveBlockchainModal, setShowSaveBlockchainModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [preselectedMode, setPreselectedMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showActionsDropdown, setShowActionsDropdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDarkMode, setIsDarkMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"DocumentEditor.useState\": ()=>{\n            const saved = localStorage.getItem('bitcoin-writer-dark-mode');\n            return saved !== null ? saved === 'true' : true; // Default to dark mode\n        }\n    }[\"DocumentEditor.useState\"]);\n    const [showTokenizeModal, setShowTokenizeModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTwitterModal, setShowTwitterModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showVersioningModal, setShowVersioningModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [bsvService] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"DocumentEditor.useState\": ()=>new _services_BSVStorageService__WEBPACK_IMPORTED_MODULE_8__[\"default\"]((documentService === null || documentService === void 0 ? void 0 : documentService.handcashService) || undefined)\n    }[\"DocumentEditor.useState\"]);\n    const [tiptapContent, setTiptapContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [currentPrice, setCurrentPrice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('$0.00000000');\n    const [estimatedCost, setEstimatedCost] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isFirstSave, setIsFirstSave] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const imageInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const loadLocalDocument = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentEditor.useCallback[loadLocalDocument]\": ()=>{\n            let docId = _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.getCurrentDocumentId();\n            let doc = null;\n            if (docId) {\n                doc = _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.getDocument(docId);\n            }\n            if (!doc) {\n                const existingDocs = _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.getAllDocuments();\n                if (existingDocs.length === 0) {\n                    setLocalDocumentId(null);\n                    setCurrentDocument(null);\n                    setTiptapContent('<p>Start writing...</p>');\n                    setEditorContent('<p>Start writing...</p>');\n                    return;\n                } else {\n                    const mostRecent = existingDocs.sort({\n                        \"DocumentEditor.useCallback[loadLocalDocument]\": (a, b)=>new Date(b.updated_at).getTime() - new Date(a.updated_at).getTime()\n                    }[\"DocumentEditor.useCallback[loadLocalDocument]\"])[0];\n                    if (mostRecent) {\n                        _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.setCurrentDocumentId(mostRecent.id);\n                        doc = mostRecent;\n                    }\n                }\n            }\n            if (doc) {\n                var _documentService_getCurrentUser;\n                setLocalDocumentId(doc.id);\n                setCurrentDocument({\n                    id: doc.id,\n                    title: doc.title,\n                    content: doc.content,\n                    metadata: {\n                        created_at: doc.created_at,\n                        updated_at: doc.updated_at,\n                        author: isAuthenticated ? (documentService === null || documentService === void 0 ? void 0 : (_documentService_getCurrentUser = documentService.getCurrentUser()) === null || _documentService_getCurrentUser === void 0 ? void 0 : _documentService_getCurrentUser.handle) || 'User' : 'Guest',\n                        encrypted: false,\n                        word_count: doc.word_count,\n                        character_count: doc.character_count\n                    }\n                });\n                setTiptapContent(doc.content || '<p><br></p>');\n                setEditorContent(doc.content || '<p><br></p>');\n            }\n        }\n    }[\"DocumentEditor.useCallback[loadLocalDocument]\"], [\n        isAuthenticated,\n        documentService\n    ]);\n    const isInitialMount = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const prevPropDocument = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(propDocument);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentEditor.useEffect\": ()=>{\n            if (propDocument) {\n                if (propDocument.id === 'bap-executive-summary') {\n                    const pdfDoc = {\n                        id: propDocument.id,\n                        title: propDocument.title,\n                        content: '',\n                        metadata: {\n                            created_at: propDocument.created_at,\n                            updated_at: propDocument.updated_at,\n                            author: propDocument.author || '',\n                            encrypted: propDocument.encrypted || false,\n                            word_count: propDocument.word_count || 0,\n                            character_count: propDocument.character_count || 0,\n                            storage_method: propDocument.storage_method,\n                            blockchain_tx: propDocument.blockchain_tx,\n                            storage_cost: propDocument.storage_cost,\n                            isPdf: true,\n                            pdfUrl: '/documents/bap_executive_summary.pdf'\n                        }\n                    };\n                    setCurrentDocument(pdfDoc);\n                    setEditorContent('');\n                } else {\n                    setCurrentDocument({\n                        id: propDocument.id,\n                        title: propDocument.title,\n                        content: propDocument.content || '',\n                        metadata: {\n                            created_at: propDocument.created_at,\n                            updated_at: propDocument.updated_at,\n                            author: propDocument.author || '',\n                            encrypted: propDocument.encrypted || false,\n                            word_count: propDocument.word_count || 0,\n                            character_count: propDocument.character_count || 0,\n                            storage_method: propDocument.storage_method,\n                            blockchain_tx: propDocument.blockchain_tx,\n                            storage_cost: propDocument.storage_cost\n                        }\n                    });\n                    setEditorContent(propDocument.content || '');\n                    setTiptapContent(propDocument.content || '');\n                    setIsFirstSave(!propDocument.content || propDocument.content === '<p><br></p>');\n                }\n            } else if (propDocument === null) {\n                if (isInitialMount.current) {\n                    loadLocalDocument();\n                } else {\n                    if (localDocumentId) {\n                        const content = tiptapContent || editorContent;\n                        if (content && content !== '') {\n                            var _text_split_;\n                            const text = content.replace(/<[^>]*>/g, '');\n                            const firstLine = ((_text_split_ = text.split('\\n')[0]) === null || _text_split_ === void 0 ? void 0 : _text_split_.trim()) || 'Untitled Document';\n                            const title = firstLine.substring(0, 100);\n                            _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.autoSave(localDocumentId, content, title);\n                        }\n                    }\n                    setLocalDocumentId(null);\n                    setCurrentDocument(null);\n                    setTiptapContent('<p><br></p>');\n                    setEditorContent('<p><br></p>');\n                    setWordCount(0);\n                    setCharCount(0);\n                    setAutoSaveStatus('Ready for new document');\n                    setTimeout({\n                        \"DocumentEditor.useEffect\": ()=>setAutoSaveStatus('')\n                    }[\"DocumentEditor.useEffect\"], 2000);\n                    window.dispatchEvent(new CustomEvent('documentCreated'));\n                }\n            }\n            prevPropDocument.current = propDocument;\n            isInitialMount.current = false;\n        }\n    }[\"DocumentEditor.useEffect\"], [\n        propDocument,\n        loadLocalDocument,\n        isAuthenticated,\n        documentService,\n        localDocumentId,\n        tiptapContent,\n        editorContent\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentEditor.useEffect\": ()=>{\n            const handleOpenTokenizeModal = {\n                \"DocumentEditor.useEffect.handleOpenTokenizeModal\": ()=>{\n                    setShowTokenizeModal(true);\n                }\n            }[\"DocumentEditor.useEffect.handleOpenTokenizeModal\"];\n            window.addEventListener('openTokenizeModal', handleOpenTokenizeModal);\n            return ({\n                \"DocumentEditor.useEffect\": ()=>{\n                    window.removeEventListener('openTokenizeModal', handleOpenTokenizeModal);\n                }\n            })[\"DocumentEditor.useEffect\"];\n        }\n    }[\"DocumentEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentEditor.useEffect\": ()=>{\n            const handleOpenTwitterModal = {\n                \"DocumentEditor.useEffect.handleOpenTwitterModal\": ()=>{\n                    setShowTwitterModal(true);\n                }\n            }[\"DocumentEditor.useEffect.handleOpenTwitterModal\"];\n            window.addEventListener('openTwitterModal', handleOpenTwitterModal);\n            return ({\n                \"DocumentEditor.useEffect\": ()=>{\n                    window.removeEventListener('openTwitterModal', handleOpenTwitterModal);\n                }\n            })[\"DocumentEditor.useEffect\"];\n        }\n    }[\"DocumentEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentEditor.useEffect\": ()=>{\n            const handleOpenSaveToBlockchain = {\n                \"DocumentEditor.useEffect.handleOpenSaveToBlockchain\": ()=>{\n                    setShowSaveBlockchainModal(true);\n                }\n            }[\"DocumentEditor.useEffect.handleOpenSaveToBlockchain\"];\n            window.addEventListener('openSaveToBlockchain', handleOpenSaveToBlockchain);\n            return ({\n                \"DocumentEditor.useEffect\": ()=>{\n                    window.removeEventListener('openSaveToBlockchain', handleOpenSaveToBlockchain);\n                }\n            })[\"DocumentEditor.useEffect\"];\n        }\n    }[\"DocumentEditor.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentEditor.useEffect\": ()=>{\n            if (propDocument) {\n                const docData = {\n                    id: propDocument.id,\n                    title: propDocument.title,\n                    content: propDocument.content || '',\n                    metadata: {\n                        created_at: propDocument.created_at,\n                        updated_at: propDocument.updated_at,\n                        author: propDocument.author || '',\n                        encrypted: propDocument.encrypted || false,\n                        word_count: propDocument.word_count || 0,\n                        character_count: propDocument.character_count || 0,\n                        storage_method: propDocument.storage_method,\n                        blockchain_tx: propDocument.blockchain_tx,\n                        storage_cost: propDocument.storage_cost\n                    }\n                };\n                setCurrentDocument(docData);\n                setEditorContent(propDocument.content || '');\n                setTiptapContent(propDocument.content || '');\n                setIsFirstSave(!propDocument.content || propDocument.content === '<p><br></p>');\n            } else if (!isAuthenticated) {\n                loadLocalDocument();\n            } else {\n                setCurrentDocument(null);\n                setEditorContent('<p><br></p>');\n                setTiptapContent('<p><br></p>');\n            }\n        }\n    }[\"DocumentEditor.useEffect\"], [\n        propDocument,\n        isAuthenticated,\n        loadLocalDocument\n    ]);\n    const handleInsertFromAI = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentEditor.useCallback[handleInsertFromAI]\": (text)=>{\n            const currentContent = editorContent.replace(/<[^>]*>/g, '').trim();\n            const newContent = currentContent + '\\n\\n' + text;\n            const htmlContent = \"<p>\".concat(newContent.split('\\n\\n').join('</p><p>'), \"</p>\");\n            setEditorContent(htmlContent);\n            setUnsavedChanges(true);\n        }\n    }[\"DocumentEditor.useCallback[handleInsertFromAI]\"], [\n        editorContent\n    ]);\n    const saveToLocalStorage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentEditor.useCallback[saveToLocalStorage]\": ()=>{\n            const content = tiptapContent || editorContent;\n            const text = content.replace(/<[^>]*>/g, '');\n            if (!text || text.trim() === '' || content === '<p>Start writing...</p>' || content === '<p><br></p>') {\n                return;\n            }\n            if (localDocumentId) {\n                const title = extractTitleFromContent(content) || 'Untitled Document';\n                _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.autoSave(localDocumentId, content, title);\n            } else {\n                var _documentService_getCurrentUser;\n                const newDoc = _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.createNewDocument();\n                const title = extractTitleFromContent(content) || 'Untitled Document';\n                newDoc.title = title;\n                newDoc.content = content;\n                newDoc.word_count = wordCount;\n                newDoc.character_count = charCount;\n                _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.saveDocument(newDoc);\n                _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.setCurrentDocumentId(newDoc.id);\n                setLocalDocumentId(newDoc.id);\n                setCurrentDocument({\n                    id: newDoc.id,\n                    title: newDoc.title,\n                    content: newDoc.content,\n                    metadata: {\n                        created_at: newDoc.created_at,\n                        updated_at: newDoc.updated_at,\n                        author: isAuthenticated ? (documentService === null || documentService === void 0 ? void 0 : (_documentService_getCurrentUser = documentService.getCurrentUser()) === null || _documentService_getCurrentUser === void 0 ? void 0 : _documentService_getCurrentUser.handle) || 'User' : 'Guest',\n                        encrypted: false,\n                        word_count: newDoc.word_count,\n                        character_count: newDoc.character_count\n                    }\n                });\n                if (onDocumentSaved) {\n                    onDocumentSaved();\n                }\n            }\n        }\n    }[\"DocumentEditor.useCallback[saveToLocalStorage]\"], [\n        localDocumentId,\n        tiptapContent,\n        editorContent,\n        wordCount,\n        charCount,\n        isAuthenticated,\n        documentService,\n        onDocumentSaved\n    ]);\n    const hasUnsavedChanges = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentEditor.useCallback[hasUnsavedChanges]\": ()=>{\n            if (!currentDocument) return false;\n            const currentContent = tiptapContent || editorContent;\n            return currentContent !== currentDocument.content;\n        }\n    }[\"DocumentEditor.useCallback[hasUnsavedChanges]\"], [\n        currentDocument,\n        tiptapContent,\n        editorContent\n    ]);\n    const handleNewDocument = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentEditor.useCallback[handleNewDocument]\": ()=>{\n            if (localDocumentId) {\n                const content = tiptapContent || editorContent;\n                const text = content.replace(/<[^>]*>/g, '').trim();\n                if (text && text !== '' && text !== 'Start writing...') {\n                    saveToLocalStorage();\n                }\n            }\n            setLocalDocumentId(null);\n            _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.setCurrentDocumentId('');\n            setCurrentDocument(null);\n            setTiptapContent('<p><br></p>');\n            setEditorContent('<p><br></p>');\n            setWordCount(0);\n            setCharCount(0);\n            setIsFirstSave(true);\n            setAutoSaveStatus('New document ready');\n            setTimeout({\n                \"DocumentEditor.useCallback[handleNewDocument]\": ()=>setAutoSaveStatus('')\n            }[\"DocumentEditor.useCallback[handleNewDocument]\"], 2000);\n        }\n    }[\"DocumentEditor.useCallback[handleNewDocument]\"], [\n        localDocumentId,\n        saveToLocalStorage,\n        isAuthenticated,\n        documentService,\n        onDocumentUpdate,\n        tiptapContent,\n        editorContent\n    ]);\n    const saveDocument = async ()=>{\n        setShowSaveBlockchainModal(true);\n    };\n    const handleBlockchainSave = async (options)=>{\n        try {\n            var _options_monetization;\n            setIsLoading(true);\n            setShowSaveBlockchainModal(false);\n            setAutoSaveStatus('💾 Saving to blockchain...');\n            const content = tiptapContent || editorContent;\n            const text = content.replace(/<[^>]*>/g, '');\n            const title = extractTitleFromContent(text) || options.metadata.title;\n            let result = null;\n            if ((_options_monetization = options.monetization) === null || _options_monetization === void 0 ? void 0 : _options_monetization.enableAsset) {\n                setAutoSaveStatus('🎨 Creating Bitcoin OS Asset...');\n                const handcashService = new _services_HandCashService__WEBPACK_IMPORTED_MODULE_10__.HandCashService();\n                const authToken = handcashService.getAccessToken();\n                if (!authToken) {\n                    alert('Please sign in with HandCash to create Bitcoin OS assets');\n                    setIsLoading(false);\n                    setAutoSaveStatus('');\n                    if (onAuthRequired) {\n                        onAuthRequired();\n                    }\n                    return;\n                }\n                const itemsService = new _services_HandCashItemsService__WEBPACK_IMPORTED_MODULE_9__.HandCashItemsService();\n                const assetData = {\n                    name: title,\n                    description: options.metadata.description || \"\".concat(title, \" - A document saved as Bitcoin OS asset\"),\n                    quantity: options.monetization.maxSupply || 1,\n                    initialPrice: options.monetization.initialPrice || 1,\n                    royaltyPercentage: options.monetization.royaltyPercentage || 10,\n                    rarity: 'common',\n                    documentContent: text,\n                    documentMetadata: {\n                        id: localDocumentId || \"doc_\".concat(Date.now()),\n                        title: title,\n                        wordCount: wordCount,\n                        createdAt: new Date().toISOString(),\n                        contentHash: itemsService.calculateContentHash(text),\n                        storageMethod: options.storageMethod\n                    }\n                };\n                const assetResult = await itemsService.mintDocumentNFT(authToken, assetData);\n                if (assetResult.success) {\n                    setAutoSaveStatus('✅ Bitcoin OS asset created successfully!');\n                    if (assetResult.marketUrl) {\n                        alert(\"Bitcoin OS asset created successfully!\\n\\nView on HandCash Market:\\n\".concat(assetResult.marketUrl));\n                    } else {\n                        alert('Bitcoin OS asset created successfully! Check your HandCash wallet.');\n                    }\n                    if (options.storageMethod !== 'cloud') {\n                        var _documentService_getCurrentUser;\n                        setAutoSaveStatus('📝 Storing document on-chain...');\n                        result = await bsvService.storeDocumentWithOptions(text, options, (documentService === null || documentService === void 0 ? void 0 : (_documentService_getCurrentUser = documentService.getCurrentUser()) === null || _documentService_getCurrentUser === void 0 ? void 0 : _documentService_getCurrentUser.handle) || 'anonymous');\n                    }\n                } else {\n                    throw new Error(assetResult.error || 'Failed to create Bitcoin OS asset');\n                }\n            } else {\n                var _documentService_getCurrentUser1;\n                result = await bsvService.storeDocumentWithOptions(text, options, (documentService === null || documentService === void 0 ? void 0 : (_documentService_getCurrentUser1 = documentService.getCurrentUser()) === null || _documentService_getCurrentUser1 === void 0 ? void 0 : _documentService_getCurrentUser1.handle) || 'anonymous');\n            }\n            if (result && currentDocument) {\n                const updatedDoc = {\n                    ...currentDocument,\n                    metadata: {\n                        ...currentDocument.metadata,\n                        blockchain_tx: result.transactionId,\n                        storage_cost: result.storageCost.totalUSD,\n                        storage_method: options.storageMethod\n                    }\n                };\n                setCurrentDocument(updatedDoc);\n            } else if (result) {\n                var _documentService_getCurrentUser2;\n                const newDoc = {\n                    id: result.transactionId,\n                    title,\n                    content: text,\n                    metadata: {\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString(),\n                        author: (documentService === null || documentService === void 0 ? void 0 : (_documentService_getCurrentUser2 = documentService.getCurrentUser()) === null || _documentService_getCurrentUser2 === void 0 ? void 0 : _documentService_getCurrentUser2.handle) || 'anonymous',\n                        encrypted: options.encryption,\n                        word_count: wordCount,\n                        character_count: charCount,\n                        storage_method: options.storageMethod,\n                        blockchain_tx: result.transactionId,\n                        storage_cost: result.storageCost.totalUSD\n                    }\n                };\n                setCurrentDocument(newDoc);\n            }\n            setAutoSaveStatus(\"✅ Saved to blockchain!\");\n            if (result && result.unlockLink) {\n                alert(\"Document saved! Share this unlock link: \".concat(result.unlockLink));\n            }\n            if (result && result.paymentAddress) {\n                alert(\"Payment address for readers: \".concat(result.paymentAddress));\n            }\n        } catch (error) {\n            console.error('Error saving to blockchain:', error);\n            setAutoSaveStatus('❌ Failed to save');\n            alert('Failed to save to blockchain. Please try again.');\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleTokenize = async (protocol, options)=>{\n        try {\n            setIsLoading(true);\n            console.log('Tokenizing document with protocol:', protocol, options);\n            alert(\"Document would be tokenized using \".concat(options.name, \" on \").concat(protocol.toUpperCase(), \" protocol.\\n\\nThis feature is coming soon!\"));\n        } catch (error) {\n            console.error('Failed to tokenize document:', error);\n            alert('Failed to tokenize document: ' + (error instanceof Error ? error.message : 'Unknown error'));\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const autoSave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"DocumentEditor.useCallback[autoSave]\": async ()=>{\n            if (!isAuthenticated) {\n                saveToLocalStorage();\n                setAutoSaveStatus('✅ Auto-saved locally');\n                setTimeout({\n                    \"DocumentEditor.useCallback[autoSave]\": ()=>setAutoSaveStatus('')\n                }[\"DocumentEditor.useCallback[autoSave]\"], 2000);\n                return;\n            }\n            if (!currentDocument || !documentService) return;\n            try {\n                setAutoSaveStatus('💾 Auto-saving to blockchain...');\n                const content = tiptapContent || editorContent;\n                const text = content.replace(/<[^>]*>/g, '');\n                const title = extractTitleFromContent(text) || currentDocument.title;\n                await documentService.updateDocument(currentDocument.id, title, text, selectedStorageOption === null || selectedStorageOption === void 0 ? void 0 : selectedStorageOption.id);\n                setCurrentDocument({\n                    \"DocumentEditor.useCallback[autoSave]\": (prev)=>prev ? {\n                            ...prev,\n                            title,\n                            content: text,\n                            lastUpdated: Date.now(),\n                            wordCount,\n                            charCount\n                        } : null\n                }[\"DocumentEditor.useCallback[autoSave]\"]);\n                setAutoSaveStatus('✅ Auto-saved to blockchain');\n                setTimeout({\n                    \"DocumentEditor.useCallback[autoSave]\": ()=>setAutoSaveStatus('')\n                }[\"DocumentEditor.useCallback[autoSave]\"], 2000);\n            } catch (error) {\n                console.error('Auto-save failed:', error);\n                setAutoSaveStatus('❌ Auto-save failed');\n                setTimeout({\n                    \"DocumentEditor.useCallback[autoSave]\": ()=>setAutoSaveStatus('')\n                }[\"DocumentEditor.useCallback[autoSave]\"], 3000);\n            }\n        }\n    }[\"DocumentEditor.useCallback[autoSave]\"], [\n        isAuthenticated,\n        currentDocument,\n        documentService,\n        selectedStorageOption,\n        wordCount,\n        charCount,\n        saveToLocalStorage,\n        tiptapContent,\n        editorContent\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DocumentEditor.useEffect\": ()=>{\n            const interval = setInterval({\n                \"DocumentEditor.useEffect.interval\": ()=>{\n                    if (localDocumentId) {\n                        const content = tiptapContent || editorContent;\n                        if (content && content !== '<p>Start writing...</p>') {\n                            saveToLocalStorage();\n                            const now = new Date();\n                            const timeString = now.toLocaleTimeString('en-US', {\n                                hour: '2-digit',\n                                minute: '2-digit'\n                            });\n                            setAutoSaveStatus(\"✓ Auto-saved at \".concat(timeString));\n                            setLastSaveTime(now);\n                            setUnsavedChanges(false);\n                            setTimeout({\n                                \"DocumentEditor.useEffect.interval\": ()=>setAutoSaveStatus('')\n                            }[\"DocumentEditor.useEffect.interval\"], 5000);\n                        }\n                    }\n                    if (isAuthenticated && localDocumentId) {\n                        const now = Date.now();\n                        if (now - lastHashTime > 60000) {\n                            hashDocument();\n                            const timeString = new Date().toLocaleTimeString('en-US', {\n                                hour: '2-digit',\n                                minute: '2-digit'\n                            });\n                            setAutoSaveStatus(\"⛓️ Saved to blockchain at \".concat(timeString));\n                            setTimeout({\n                                \"DocumentEditor.useEffect.interval\": ()=>setAutoSaveStatus('')\n                            }[\"DocumentEditor.useEffect.interval\"], 5000);\n                        }\n                    }\n                }\n            }[\"DocumentEditor.useEffect.interval\"], 60000);\n            return ({\n                \"DocumentEditor.useEffect\": ()=>clearInterval(interval)\n            })[\"DocumentEditor.useEffect\"];\n        }\n    }[\"DocumentEditor.useEffect\"], [\n        saveToLocalStorage,\n        isAuthenticated,\n        localDocumentId,\n        lastHashTime,\n        tiptapContent,\n        editorContent\n    ]);\n    const hashDocument = async ()=>{\n        if (!localDocumentId) return;\n        const content = tiptapContent || editorContent;\n        const text = content.replace(/<[^>]*>/g, '');\n        if (!text || text.length < 10) return;\n        const hash = crypto_js__WEBPACK_IMPORTED_MODULE_12___default().SHA256(text).toString();\n        const timestamp = new Date().toISOString();\n        const doc = _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.getDocument(localDocumentId);\n        if (doc) {\n            doc.is_hashed = true;\n            doc.hash = hash;\n            doc.updated_at = timestamp;\n            _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.saveDocument(doc);\n        }\n        if (isAuthenticated && bsvService) {\n            try {\n                setAutoSaveStatus('⚓️ Hashing to blockchain...');\n                console.log('Document hash:', hash);\n                console.log('Timestamp:', timestamp);\n                setLastHashTime(Date.now());\n                setAutoSaveStatus('✓ Hashed to blockchain');\n                setTimeout(()=>setAutoSaveStatus(''), 3000);\n            } catch (error) {\n                console.error('Failed to hash to blockchain:', error);\n            }\n        }\n    };\n    const extractTitleFromContent = (html)=>{\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = html;\n        const text = tempDiv.textContent || tempDiv.innerText || '';\n        const firstLine = text.split('\\n')[0].trim();\n        return firstLine.length > 0 && firstLine.length <= 100 ? firstLine : 'Untitled Document';\n    };\n    const insertImage = ()=>{\n        var _imageInputRef_current;\n        (_imageInputRef_current = imageInputRef.current) === null || _imageInputRef_current === void 0 ? void 0 : _imageInputRef_current.click();\n    };\n    const handleImageSelect = (e)=>{\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (file) {\n            const reader = new FileReader();\n            reader.onload = (event)=>{\n                var _event_target;\n                if ((_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result) {\n                    insertImageIntoEditor(event.target.result, file.name);\n                }\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n    const insertImageIntoEditor = (imageSrc, fileName)=>{\n        console.log('Image insertion should be done through Tiptap toolbar');\n    };\n    const handleKeyDown = (e)=>{\n        if ((e.ctrlKey || e.metaKey) && e.key === 's') {\n            e.preventDefault();\n            saveDocument();\n        } else if ((e.ctrlKey || e.metaKey) && e.key === 'n') {\n            e.preventDefault();\n            handleNewDocument();\n        } else if (e.key === 'F11') {\n            e.preventDefault();\n            toggleFullscreen();\n        } else if (e.key === 'Tab') {\n            e.preventDefault();\n            document.execCommand('insertText', false, '    ');\n        }\n    };\n    const toggleFullscreen = ()=>{\n        setIsFullscreen(!isFullscreen);\n    };\n    const handleFileDrop = async (files)=>{\n        for(let i = 0; i < files.length; i++){\n            const file = files[i];\n            if (file.type.startsWith('image/')) {\n                const reader = new FileReader();\n                reader.onload = (event)=>{\n                    var _event_target;\n                    if ((_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result) {\n                        insertImageIntoEditor(event.target.result, file.name);\n                        showNotification(\"Added image: \".concat(file.name));\n                    }\n                };\n                reader.readAsDataURL(file);\n            } else if (file.name.endsWith('.docx') || file.name.endsWith('.doc')) {\n                showNotification('Importing Word document...');\n                const importBtn = document.querySelector('.import-btn');\n                if (importBtn) {\n                    const dataTransfer = new DataTransfer();\n                    dataTransfer.items.add(file);\n                    const fileInput = document.getElementById('docx-import');\n                    if (fileInput) {\n                        fileInput.files = dataTransfer.files;\n                        const event = new Event('change', {\n                            bubbles: true\n                        });\n                        fileInput.dispatchEvent(event);\n                    }\n                }\n            } else {\n                const reader = new FileReader();\n                reader.onload = async (event)=>{\n                    var _event_target, _documentService_getCurrentUser;\n                    const content = (_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result;\n                    setCurrentDocument({\n                        id: '',\n                        title: file.name,\n                        content: content,\n                        metadata: {\n                            created_at: new Date().toISOString(),\n                            updated_at: new Date().toISOString(),\n                            author: (documentService === null || documentService === void 0 ? void 0 : (_documentService_getCurrentUser = documentService.getCurrentUser()) === null || _documentService_getCurrentUser === void 0 ? void 0 : _documentService_getCurrentUser.handle) || 'User',\n                            encrypted: false,\n                            word_count: 0,\n                            character_count: content.length\n                        }\n                    });\n                    setShowSaveBlockchainModal(true);\n                    showNotification(\"Ready to upload: \".concat(file.name));\n                };\n                if (file.type.startsWith('text/') || file.type === 'application/json') {\n                    reader.readAsText(file);\n                } else {\n                    reader.readAsDataURL(file);\n                }\n            }\n        }\n    };\n    const handlePaste = (e)=>{\n        e.preventDefault();\n        const text = e.clipboardData.getData('text/plain');\n        document.execCommand('insertText', false, text);\n    };\n    const showNotification = function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'success';\n        const notification = document.createElement('div');\n        notification.className = \"notification \".concat(type);\n        notification.textContent = message;\n        notification.style.cssText = \"\\n      position: fixed;\\n      top: 20px;\\n      right: 20px;\\n      background-color: \".concat(type === 'error' ? '#ff4444' : '#44ff44', \";\\n      color: white;\\n      padding: 12px 20px;\\n      border-radius: 6px;\\n      z-index: 10000;\\n      font-size: 14px;\\n      box-shadow: 0 4px 12px rgba(0,0,0,0.3);\\n      transition: opacity 0.3s ease;\\n    \");\n        document.body.appendChild(notification);\n        setTimeout(()=>{\n            notification.style.opacity = '0';\n            setTimeout(()=>{\n                if (notification.parentNode) {\n                    notification.parentNode.removeChild(notification);\n                }\n            }, 300);\n        }, 3000);\n    };\n    const handleEncrypt = ()=>{\n        if (isEncrypted) {\n            setIsEncrypted(false);\n            showNotification('Document decrypted');\n        } else {\n            setIsEncrypted(true);\n            showNotification('Document encrypted');\n        }\n    };\n    const handleSetPrice = ()=>{\n        const price = prompt('Set price to read (in USD):', readPrice.toString());\n        if (price !== null && !isNaN(Number(price))) {\n            setReadPrice(Number(price));\n            showNotification(\"Read price set to $\".concat(price));\n        }\n    };\n    const toggleDarkMode = ()=>{\n        const newDarkMode = !isDarkMode;\n        setIsDarkMode(newDarkMode);\n        localStorage.setItem('bitcoin-writer-dark-mode', newDarkMode.toString());\n        showNotification(\"\".concat(newDarkMode ? 'Dark' : 'Light', \" mode enabled\"));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"document-editor \".concat(isFullscreen ? 'fullscreen' : '', \" \").concat(isDarkMode ? 'dark-mode' : ''),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toolbar\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"toolbar-mobile\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mobile-main-actions\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: saveDocument,\n                                        disabled: isLoading,\n                                        title: isAuthenticated ? \"Save to Blockchain\" : \"Save (Sign in for blockchain)\",\n                                        className: \"save-btn-mobile \".concat(!isAuthenticated ? 'save-guest' : ''),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 789,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 788,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Save \",\n                                            wordCount > 0 && \"(\".concat(currentPrice, \")\")\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 783,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mobile-dropdown-container\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"mobile-actions-btn\",\n                                                onClick: ()=>setShowActionsDropdown(!showActionsDropdown),\n                                                title: \"More actions\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        width: \"16\",\n                                                        height: \"16\",\n                                                        viewBox: \"0 0 24 24\",\n                                                        fill: \"currentColor\",\n                                                        style: {\n                                                            marginRight: '8px'\n                                                        },\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11.03L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11.03C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                            lineNumber: 800,\n                                                            columnNumber: 19\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                        lineNumber: 799,\n                                                        columnNumber: 17\n                                                    }, undefined),\n                                                    \"Actions\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 795,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            showActionsDropdown && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mobile-dropdown\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            insertImage();\n                                                            setShowActionsDropdown(false);\n                                                        },\n                                                        className: \"dropdown-item\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                width: \"16\",\n                                                                height: \"16\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"currentColor\",\n                                                                style: {\n                                                                    marginRight: '8px'\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                    d: \"M9,2V7.38L10.5,8.88L12,7.38V2H9M20,5V19C20,20.1 19.1,21 18,21H6C4.89,21 4,20.1 4,19V5C4,3.89 4.89,3 6,3H7V9L9.5,6.5L12,9V3H18C19.1,3 20,3.89 20,5Z\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                    lineNumber: 814,\n                                                                    columnNumber: 23\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                lineNumber: 813,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            \"Add Image\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                        lineNumber: 807,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    isAuthenticated && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    handleEncrypt();\n                                                                    setShowActionsDropdown(false);\n                                                                },\n                                                                disabled: isLoading,\n                                                                className: \"dropdown-item \".concat(isEncrypted ? 'encrypted' : ''),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                        width: \"16\",\n                                                                        height: \"16\",\n                                                                        viewBox: \"0 0 24 24\",\n                                                                        fill: \"currentColor\",\n                                                                        style: {\n                                                                            marginRight: '8px'\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                            d: isEncrypted ? \"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11H16V18H8V11H9.2V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.2,8.7 10.2,10V11H13.8V10C13.8,8.7 12.8,8.2 12,8.2Z\" : \"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11H15C15.6,11 16,11.4 16,12V18C16,18.6 15.6,19 15,19H9C8.4,19 8,18.6 8,18V12C8,11.4 8.4,11 9,11H9.2V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.2,8.7 10.2,10V11H13.8V10C13.8,8.7 12.8,8.2 12,8.2Z\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                            lineNumber: 828,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                        lineNumber: 827,\n                                                                        columnNumber: 25\n                                                                    }, undefined),\n                                                                    isEncrypted ? 'Decrypt' : 'Encrypt Draft'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                lineNumber: 820,\n                                                                columnNumber: 23\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    handleSetPrice();\n                                                                    setShowActionsDropdown(false);\n                                                                },\n                                                                disabled: isLoading,\n                                                                className: \"dropdown-item\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                        width: \"16\",\n                                                                        height: \"16\",\n                                                                        viewBox: \"0 0 24 24\",\n                                                                        fill: \"currentColor\",\n                                                                        style: {\n                                                                            marginRight: '8px'\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                            d: \"M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                            lineNumber: 840,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                        lineNumber: 839,\n                                                                        columnNumber: 25\n                                                                    }, undefined),\n                                                                    \"Set Price to Read \",\n                                                                    readPrice > 0 ? \"($\".concat(readPrice, \")\") : ''\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                lineNumber: 832,\n                                                                columnNumber: 23\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>{\n                                                                    setShowPublishModal(true);\n                                                                    setShowActionsDropdown(false);\n                                                                },\n                                                                disabled: isLoading,\n                                                                className: \"dropdown-item\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                        width: \"16\",\n                                                                        height: \"16\",\n                                                                        viewBox: \"0 0 24 24\",\n                                                                        fill: \"currentColor\",\n                                                                        style: {\n                                                                            marginRight: '8px'\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                            d: \"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                            lineNumber: 852,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                        lineNumber: 851,\n                                                                        columnNumber: 25\n                                                                    }, undefined),\n                                                                    \"Publish Document\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                                lineNumber: 844,\n                                                                columnNumber: 23\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            toggleFullscreen();\n                                                            setShowActionsDropdown(false);\n                                                        },\n                                                        className: \"dropdown-item\",\n                                                        children: \"⛶ Fullscreen\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                        lineNumber: 858,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 806,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 794,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                lineNumber: 782,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mobile-stats\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"word-count\",\n                                        children: [\n                                            wordCount,\n                                            \"w\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 872,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"char-count\",\n                                        children: [\n                                            charCount,\n                                            \"c\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 873,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PricingDisplay__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        wordCount: wordCount,\n                                        characterCount: charCount,\n                                        content: editorContent,\n                                        isAuthenticated: isAuthenticated,\n                                        onStorageMethodSelect: setSelectedStorageOption,\n                                        isMobile: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 874,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                lineNumber: 871,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                        lineNumber: 781,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"toolbar-desktop\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"toolbar-left\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            if (isFirstSave && wordCount > 0) {\n                                                setShowSaveBlockchainModal(true);\n                                                setIsFirstSave(false);\n                                                return;\n                                            }\n                                            saveToLocalStorage();\n                                            const now = new Date();\n                                            const timeString = now.toLocaleTimeString('en-US', {\n                                                hour: '2-digit',\n                                                minute: '2-digit'\n                                            });\n                                            setAutoSaveStatus(\"✓ Saved at \".concat(timeString));\n                                            setLastSaveTime(now);\n                                            setUnsavedChanges(false);\n                                            setTimeout(()=>setAutoSaveStatus(''), 5000);\n                                            if (isAuthenticated) {\n                                                hashDocument();\n                                                setAutoSaveStatus(\"⛓️ Saving to blockchain...\");\n                                                setTimeout(()=>{\n                                                    setAutoSaveStatus(\"✓ Saved to blockchain at \".concat(timeString));\n                                                    setTimeout(()=>setAutoSaveStatus(''), 5000);\n                                                }, 1000);\n                                            }\n                                        },\n                                        disabled: isLoading || wordCount === 0,\n                                        title: wordCount === 0 ? \"Start typing to save\" : isFirstSave ? \"Save to blockchain\" : \"Save changes\",\n                                        className: wordCount > 0 ? 'save-btn-active' : 'save-btn-inactive',\n                                        style: {\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            gap: '6px',\n                                            marginRight: '20px'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 921,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 920,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Save\",\n                                            wordCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: '11px',\n                                                    color: estimatedCost > 0.01 ? '#ff9900' : '#00ff00',\n                                                    fontWeight: 'normal',\n                                                    opacity: 0.9,\n                                                    minWidth: '85px',\n                                                    textAlign: 'right'\n                                                },\n                                                children: currentPrice\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 925,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            unsavedChanges && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    color: '#ff9900'\n                                                },\n                                                children: \"•\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 936,\n                                                columnNumber: 34\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 888,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const format = prompt('Export as: txt, html, md, or docx?', 'docx');\n                                            if (format) {\n                                                if (localDocumentId) {\n                                                    const doc = _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.getDocument(localDocumentId);\n                                                    if (doc) {\n                                                        if (format === 'docx') {\n                                                            const quillExport = document.querySelector('.export-btn');\n                                                            if (quillExport) quillExport.click();\n                                                        } else if ([\n                                                            'txt',\n                                                            'html',\n                                                            'md'\n                                                        ].includes(format)) {\n                                                            _utils_documentStorage__WEBPACK_IMPORTED_MODULE_11__.LocalDocumentStorage.exportDocument(doc, format);\n                                                        }\n                                                        showNotification(\"Exported as \".concat(format.toUpperCase()));\n                                                    }\n                                                }\n                                            }\n                                        },\n                                        title: \"Export document to file\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 959,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 958,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Export...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 939,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowSaveBlockchainModal(true),\n                                        disabled: wordCount === 0,\n                                        title: \"Save with advanced options (encryption, pricing, etc.)\",\n                                        className: \"save-options-btn\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11.03L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11.03C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 970,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 969,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Save to Blockchain\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 964,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            setPreselectedMode('encrypt');\n                                            setShowSaveBlockchainModal(true);\n                                        },\n                                        disabled: isLoading,\n                                        title: \"Encrypt and save privately on blockchain\",\n                                        className: \"encrypt-btn\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11H15C15.6,11 16,11.4 16,12V18C16,18.6 15.6,19 15,19H9C8.4,19 8,18.6 8,18V12C8,11.4 8.4,11 9,11H9.2V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.2,8.7 10.2,10V11H13.8V10C13.8,8.7 12.8,8.2 12,8.2Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 984,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 983,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Encrypt on Chain\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 975,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            if (!isAuthenticated) {\n                                                setShowSaveBlockchainModal(true);\n                                            } else {\n                                                setShowPublishModal(true);\n                                            }\n                                        },\n                                        disabled: isLoading,\n                                        title: \"Publish document publicly on blockchain\",\n                                        className: \"publish-btn\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 1001,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 1000,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Publish to Chain\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 989,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            setPreselectedMode('schedule');\n                                            setShowSaveBlockchainModal(true);\n                                        },\n                                        disabled: isLoading,\n                                        title: \"Schedule automatic publication at a future date\",\n                                        className: \"schedule-btn\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 1015,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 1014,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Schedule Publication\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1006,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: insertImage,\n                                        title: \"Add images to your document (included in blockchain storage cost)\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M9,2V7.38L10.5,8.88L12,7.38V2H9M20,5V19C20,20.1 19.1,21 18,21H6C4.89,21 4,20.1 4,19V5C4,3.89 4.89,3 6,3H7V9L9.5,6.5L12,9V3H18C19.1,3 20,3.89 20,5Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 1022,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 1021,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Add Image\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1020,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            if (!isAuthenticated) {\n                                                setShowSaveBlockchainModal(true);\n                                            } else {\n                                                handleSetPrice();\n                                            }\n                                        },\n                                        disabled: isLoading,\n                                        title: \"Set price readers must pay to read your document\",\n                                        className: \"price-btn\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 1039,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 1038,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Set Price to Read \",\n                                            readPrice > 0 ? \"($\".concat(readPrice, \")\") : ''\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1027,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            if (!isAuthenticated) {\n                                                setShowSaveBlockchainModal(true);\n                                            } else {\n                                                setShowTwitterModal(true);\n                                            }\n                                        },\n                                        disabled: isLoading,\n                                        title: \"Share your writing on Twitter\",\n                                        className: \"twitter-share-btn\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                width: \"16\",\n                                                height: \"16\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"currentColor\",\n                                                style: {\n                                                    marginRight: '8px'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                    lineNumber: 1055,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                                lineNumber: 1054,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Post to Twitter\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1043,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"file\",\n                                        ref: imageInputRef,\n                                        accept: \"image/*\",\n                                        style: {\n                                            display: 'none'\n                                        },\n                                        onChange: handleImageSelect\n                                    }, void 0, false, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1059,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                lineNumber: 887,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"toolbar-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            wordCount,\n                                            \" word\",\n                                            wordCount !== 1 ? 's' : ''\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1069,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            charCount,\n                                            \" character\",\n                                            charCount !== 1 ? 's' : ''\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1070,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                lineNumber: 1068,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"toolbar-right\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: toggleDarkMode,\n                                        title: \"Switch to \".concat(isDarkMode ? 'Light' : 'Dark', \" Mode\"),\n                                        children: isDarkMode ? '☀️' : '🌙'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1074,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowVersioningModal(true),\n                                        title: \"Document Versioning & Inscription\",\n                                        children: \"⛓️\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1078,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: toggleFullscreen,\n                                        title: \"Toggle Fullscreen\",\n                                        children: \"⛶\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                        lineNumber: 1082,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                                lineNumber: 1073,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                        lineNumber: 886,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 779,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"editor-container\",\n                children: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.metadata) && currentDocument.metadata.isPdf ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                    src: currentDocument.metadata.pdfUrl,\n                    style: {\n                        width: '100%',\n                        height: '100%',\n                        border: 'none',\n                        backgroundColor: '#fff'\n                    },\n                    title: currentDocument.title\n                }, void 0, false, {\n                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                    lineNumber: 1091,\n                    columnNumber: 11\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TiptapEditor__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    content: tiptapContent || editorContent,\n                    onChange: (content)=>{\n                        setTiptapContent(content);\n                        setEditorContent(content);\n                        setUnsavedChanges(true);\n                    },\n                    onTextChange: (text)=>{\n                        const words = text.trim() ? text.trim().split(/\\s+/).length : 0;\n                        const chars = text.length;\n                        setWordCount(words);\n                        setCharCount(chars);\n                        if (chars > 0) {\n                            const bytes = chars;\n                            const satsPerByte = 0.05;\n                            const minerFeeSats = bytes * satsPerByte;\n                            const totalFeeSats = minerFeeSats * 2;\n                            const bsvPriceUsd = 60;\n                            const satsPerBsv = 100000000;\n                            const totalUSD = totalFeeSats / satsPerBsv * bsvPriceUsd;\n                            setEstimatedCost(totalUSD);\n                            const formattedPrice = \"\".concat(totalUSD.toFixed(8));\n                            setCurrentPrice(formattedPrice);\n                        } else {\n                            setCurrentPrice('$0.00000000');\n                            setEstimatedCost(0);\n                        }\n                    },\n                    placeholder: \"Start writing your document...\",\n                    isDarkMode: isDarkMode\n                }, void 0, false, {\n                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                    lineNumber: 1102,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1089,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"status-bar\",\n                children: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.metadata) && currentDocument.metadata.isPdf ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: \"\\uD83D\\uDCD1 PDF Document\"\n                        }, void 0, false, {\n                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                            lineNumber: 1142,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.title) || 'Untitled'\n                        }, void 0, false, {\n                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                            lineNumber: 1143,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: cursorPosition\n                        }, void 0, false, {\n                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                            lineNumber: 1147,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"auto-save-status\",\n                            children: autoSaveStatus\n                        }, void 0, false, {\n                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                            lineNumber: 1148,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.title) || 'Untitled'\n                        }, void 0, false, {\n                            fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                            lineNumber: 1149,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true)\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1139,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PublishSettingsModal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                isOpen: showPublishModal,\n                onClose: ()=>setShowPublishModal(false),\n                onConfirm: (settings)=>{\n                    setPublishSettings(settings);\n                    console.log('Publish settings:', settings);\n                },\n                currentSettings: publishSettings || undefined,\n                documentTitle: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.title) || 'Untitled'\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1155,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SaveToBlockchainModal__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                isOpen: showSaveBlockchainModal,\n                onClose: ()=>{\n                    setShowSaveBlockchainModal(false);\n                    setPreselectedMode(null);\n                },\n                onSave: handleBlockchainSave,\n                documentTitle: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.title) || 'Untitled Document',\n                wordCount: wordCount,\n                estimatedSize: charCount,\n                isAuthenticated: isAuthenticated,\n                onAuthRequired: onAuthRequired,\n                preselectedMode: preselectedMode\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1166,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TokenizeModal__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                isOpen: showTokenizeModal,\n                onClose: ()=>setShowTokenizeModal(false),\n                onTokenize: handleTokenize,\n                documentTitle: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.title) || 'Untitled Document',\n                wordCount: wordCount\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1181,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PostToTwitterModal__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                isOpen: showTwitterModal,\n                onClose: ()=>setShowTwitterModal(false),\n                documentTitle: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.title) || 'Untitled Document',\n                documentContent: tiptapContent || editorContent\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1189,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_modals_DocumentVersioningModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                isOpen: showVersioningModal,\n                onClose: ()=>setShowVersioningModal(false),\n                documentId: localDocumentId || (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.id) || 'temp-doc',\n                currentContent: tiptapContent || editorContent,\n                documentTitle: (currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.title) || 'Untitled Document',\n                authorAddress: (documentService === null || documentService === void 0 ? void 0 : (_documentService_handcashService = documentService.handcashService) === null || _documentService_handcashService === void 0 ? void 0 : (_documentService_handcashService_getCurrentUser = _documentService_handcashService.getCurrentUser()) === null || _documentService_handcashService_getCurrentUser === void 0 ? void 0 : _documentService_handcashService_getCurrentUser.paymail) || 'unknown',\n                authorHandle: documentService === null || documentService === void 0 ? void 0 : (_documentService_handcashService1 = documentService.handcashService) === null || _documentService_handcashService1 === void 0 ? void 0 : (_documentService_handcashService_getCurrentUser1 = _documentService_handcashService1.getCurrentUser()) === null || _documentService_handcashService_getCurrentUser1 === void 0 ? void 0 : _documentService_handcashService_getCurrentUser1.handle\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1196,\n                columnNumber: 7\n            }, undefined),\n            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"loading-overlay\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"spinner\"\n                }, void 0, false, {\n                    fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                    lineNumber: 1208,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1207,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DragDropZone__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                onFileDrop: handleFileDrop,\n                isAuthenticated: isAuthenticated,\n                onAuthRequired: onAuthRequired || (()=>{})\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1212,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AIChatWindow__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                isOpen: showAIChat,\n                onClose: handleToggleAIChat,\n                onInsertToDocument: handleInsertFromAI,\n                selectedProvider: selectedAIProvider,\n                onProviderChange: setSelectedAIProvider\n            }, void 0, false, {\n                fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n                lineNumber: 1218,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/b0ase/Projects/bitcoin-OS/apps/bitcoin-writer/src/components/DocumentEditor.tsx\",\n        lineNumber: 778,\n        columnNumber: 5\n    }, undefined);\n};\n_s(DocumentEditor, \"T6oA1tp2Vg0tSAoa4M7O3oarBE8=\");\n_c = DocumentEditor;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DocumentEditor);\nvar _c;\n$RefreshReg$(_c, \"DocumentEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0RvY3VtZW50RWRpdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdFO0FBRTFCO0FBQ2lDO0FBQ1E7QUFDbEI7QUFDZjtBQUNpQjtBQUVUO0FBQ1U7QUFDVjtBQUNpQjtBQUM5QztBQUNTO0FBQ0E7QUFDQTtBQUNRO0FBYWxELE1BQU1vQixpQkFBZ0Q7UUFBQyxFQUNyREMsZUFBZSxFQUNmQyxlQUFlLEVBQ2ZDLGNBQWMsRUFDZEMsaUJBQWlCQyxZQUFZLEVBQzdCQyxnQkFBZ0IsRUFDaEJDLGVBQWUsRUFDZkMsWUFBWUMsaUJBQWlCLEtBQUssRUFDbENDLGNBQWMsRUFDZjtRQTBvQ3NCVCxpREFBQUEsa0NBQ0RBLGtEQUFBQTs7SUExb0NwQixNQUFNLENBQUNHLGlCQUFpQk8sbUJBQW1CLEdBQUc5QiwrQ0FBUUEsQ0FBc0I7SUFDNUUsTUFBTSxDQUFDK0IsaUJBQWlCQyxtQkFBbUIsR0FBR2hDLCtDQUFRQSxDQUFnQjtJQUN0RSxNQUFNLENBQUNpQyxjQUFjQyxnQkFBZ0IsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ21DLFdBQVdDLGFBQWEsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FDLFdBQVdDLGFBQWEsR0FBR3RDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3VDLGdCQUFnQkMsa0JBQWtCLEdBQUd4QywrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUN5QyxnQkFBZ0JDLGtCQUFrQixHQUFHMUMsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDMkMsY0FBY0MsZ0JBQWdCLEdBQUc1QywrQ0FBUUEsQ0FBYztJQUM5RCxNQUFNLENBQUM2QyxnQkFBZ0JDLGtCQUFrQixHQUFHOUMsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDK0MsY0FBY0MsZ0JBQWdCLEdBQUdoRCwrQ0FBUUEsQ0FBUztJQUN6RCxNQUFNLENB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aUJBQWlCM0YsaUJBQWlCcEM7Ozs7OzswQkFHcEMsOERBQUM1Qyx1RUFBdUJBO2dCQUN0QjBVLFFBQVEvUDtnQkFDUmdRLFNBQVMsSUFBTS9QLHVCQUF1QjtnQkFDdEN1USxZQUFZN1Qsb0JBQW1CUiw0QkFBQUEsc0NBQUFBLGdCQUFpQjJGLEVBQUUsS0FBSTtnQkFDdERzQyxnQkFBZ0IvRCxpQkFBaUJwQztnQkFDakNtUyxlQUFlalUsQ0FBQUEsNEJBQUFBLHNDQUFBQSxnQkFBaUI0RixLQUFLLEtBQUk7Z0JBQ3pDME8sZUFBZXpVLENBQUFBLDRCQUFBQSx1Q0FBQUEsbUNBQUFBLGdCQUFpQm1FLGVBQWUsY0FBaENuRSx3REFBQUEsa0RBQUFBLGlDQUFrQ29HLGNBQWMsZ0JBQWhEcEcsc0VBQUFBLGdEQUFvRDBVLE9BQU8sS0FBSTtnQkFDOUVDLFlBQVksRUFBRTNVLDRCQUFBQSx1Q0FBQUEsb0NBQUFBLGdCQUFpQm1FLGVBQWUsY0FBaENuRSx5REFBQUEsbURBQUFBLGtDQUFrQ29HLGNBQWMsZ0JBQWhEcEcsdUVBQUFBLGlEQUFvRHFHLE1BQU07Ozs7OztZQUd6RXhFLDJCQUNDLDhEQUFDa1A7Z0JBQUlqQixXQUFVOzBCQUNiLDRFQUFDaUI7b0JBQUlqQixXQUFVOzs7Ozs7Ozs7OzswQkFJbkIsOERBQUNsUSxzREFBWUE7Z0JBQ1hnVixZQUFZbkc7Z0JBQ1p4TyxpQkFBaUJBO2dCQUNqQkMsZ0JBQWdCQSxrQkFBbUIsTUFBTzs7Ozs7OzBCQUc1Qyw4REFBQ0wsc0RBQVlBO2dCQUNYa1UsUUFBUXhUO2dCQUNSeVQsU0FBU3hSO2dCQUNUcVMsb0JBQW9CMU07Z0JBQ3BCMk0sa0JBQWtCelM7Z0JBQ2xCMFMsa0JBQWtCelM7Ozs7Ozs7Ozs7OztBQUkxQjtHQTVxQ012QztLQUFBQTtBQThxQ04saUVBQWVBLGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iMGFzZS9Qcm9qZWN0cy9iaXRjb2luLU9TL2FwcHMvYml0Y29pbi13cml0ZXIvc3JjL2NvbXBvbmVudHMvRG9jdW1lbnRFZGl0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQmxvY2tjaGFpbkRvY3VtZW50U2VydmljZSwgRG9jdW1lbnREYXRhLCBCbG9ja2NoYWluRG9jdW1lbnQgfSBmcm9tICcuLi9zZXJ2aWNlcy9CbG9ja2NoYWluRG9jdW1lbnRTZXJ2aWNlJztcbmltcG9ydCBQcmljaW5nRGlzcGxheSBmcm9tICcuL1ByaWNpbmdEaXNwbGF5JztcbmltcG9ydCBQdWJsaXNoU2V0dGluZ3NNb2RhbCwgeyBQdWJsaXNoU2V0dGluZ3MgfSBmcm9tICcuL1B1Ymxpc2hTZXR0aW5nc01vZGFsJztcbmltcG9ydCBTYXZlVG9CbG9ja2NoYWluTW9kYWwsIHsgQmxvY2tjaGFpblNhdmVPcHRpb25zIH0gZnJvbSAnLi9TYXZlVG9CbG9ja2NoYWluTW9kYWwnO1xuaW1wb3J0IFRva2VuaXplTW9kYWwsIHsgVG9rZW5pemF0aW9uT3B0aW9ucyB9IGZyb20gJy4vVG9rZW5pemVNb2RhbCc7XG5pbXBvcnQgUG9zdFRvVHdpdHRlck1vZGFsIGZyb20gJy4vUG9zdFRvVHdpdHRlck1vZGFsJztcbmltcG9ydCBEb2N1bWVudFZlcnNpb25pbmdNb2RhbCBmcm9tICcuL21vZGFscy9Eb2N1bWVudFZlcnNpb25pbmdNb2RhbCc7XG5pbXBvcnQgeyBTdG9yYWdlT3B0aW9uIH0gZnJvbSAnLi4vdXRpbHMvcHJpY2luZ0NhbGN1bGF0b3InO1xuaW1wb3J0IEJTVlN0b3JhZ2VTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL0JTVlN0b3JhZ2VTZXJ2aWNlJztcbmltcG9ydCB7IEhhbmRDYXNoSXRlbXNTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvSGFuZENhc2hJdGVtc1NlcnZpY2UnO1xuaW1wb3J0IHsgSGFuZENhc2hTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvSGFuZENhc2hTZXJ2aWNlJztcbmltcG9ydCB7IExvY2FsRG9jdW1lbnRTdG9yYWdlLCBMb2NhbERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbHMvZG9jdW1lbnRTdG9yYWdlJztcbmltcG9ydCBDcnlwdG9KUyBmcm9tICdjcnlwdG8tanMnO1xuaW1wb3J0IFRpcHRhcEVkaXRvciBmcm9tICcuL1RpcHRhcEVkaXRvcic7XG5pbXBvcnQgRHJhZ0Ryb3Bab25lIGZyb20gJy4vRHJhZ0Ryb3Bab25lJztcbmltcG9ydCBBSUNoYXRXaW5kb3cgZnJvbSAnLi9BSUNoYXRXaW5kb3cnO1xuaW1wb3J0IHsgQUlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvQUlTZXJ2aWNlJztcblxuaW50ZXJmYWNlIERvY3VtZW50RWRpdG9yUHJvcHMge1xuICBkb2N1bWVudFNlcnZpY2U6IEJsb2NrY2hhaW5Eb2N1bWVudFNlcnZpY2UgfCBudWxsO1xuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gIG9uQXV0aFJlcXVpcmVkPzogKCkgPT4gdm9pZDtcbiAgY3VycmVudERvY3VtZW50PzogQmxvY2tjaGFpbkRvY3VtZW50IHwgbnVsbDtcbiAgb25Eb2N1bWVudFVwZGF0ZT86IChkb2M6IEJsb2NrY2hhaW5Eb2N1bWVudCkgPT4gdm9pZDtcbiAgb25Eb2N1bWVudFNhdmVkPzogKCkgPT4gdm9pZDtcbiAgc2hvd0FJQ2hhdD86IGJvb2xlYW47XG4gIG9uVG9nZ2xlQUlDaGF0PzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgRG9jdW1lbnRFZGl0b3I6IFJlYWN0LkZDPERvY3VtZW50RWRpdG9yUHJvcHM+ID0gKHtcbiAgZG9jdW1lbnRTZXJ2aWNlLFxuICBpc0F1dGhlbnRpY2F0ZWQsXG4gIG9uQXV0aFJlcXVpcmVkLFxuICBjdXJyZW50RG9jdW1lbnQ6IHByb3BEb2N1bWVudCxcbiAgb25Eb2N1bWVudFVwZGF0ZSxcbiAgb25Eb2N1bWVudFNhdmVkLFxuICBzaG93QUlDaGF0OiBwcm9wU2hvd0FJQ2hhdCA9IGZhbHNlLFxuICBvblRvZ2dsZUFJQ2hhdFxufSkgPT4ge1xuICBjb25zdCBbY3VycmVudERvY3VtZW50LCBzZXRDdXJyZW50RG9jdW1lbnRdID0gdXNlU3RhdGU8RG9jdW1lbnREYXRhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2NhbERvY3VtZW50SWQsIHNldExvY2FsRG9jdW1lbnRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRnVsbHNjcmVlbiwgc2V0SXNGdWxsc2NyZWVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3dvcmRDb3VudCwgc2V0V29yZENvdW50XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbY2hhckNvdW50LCBzZXRDaGFyQ291bnRdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtjdXJzb3JQb3NpdGlvbiwgc2V0Q3Vyc29yUG9zaXRpb25dID0gdXNlU3RhdGUoJ0xpbmUgMSwgQ29sdW1uIDEnKTtcbiAgY29uc3QgW2F1dG9TYXZlU3RhdHVzLCBzZXRBdXRvU2F2ZVN0YXR1c10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtsYXN0U2F2ZVRpbWUsIHNldExhc3RTYXZlVGltZV0gPSB1c2VTdGF0ZTxEYXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt1bnNhdmVkQ2hhbmdlcywgc2V0VW5zYXZlZENoYW5nZXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGFzdEhhc2hUaW1lLCBzZXRMYXN0SGFzaFRpbWVdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkU3RvcmFnZU9wdGlvbiwgc2V0U2VsZWN0ZWRTdG9yYWdlT3B0aW9uXSA9IHVzZVN0YXRlPFN0b3JhZ2VPcHRpb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VkaXRvckNvbnRlbnQsIHNldEVkaXRvckNvbnRlbnRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaW50ZXJuYWxTaG93QUlDaGF0LCBzZXRJbnRlcm5hbFNob3dBSUNoYXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRBSVByb3ZpZGVyLCBzZXRTZWxlY3RlZEFJUHJvdmlkZXJdID0gdXNlU3RhdGUoJ2dlbWluaScpO1xuICBjb25zdCBbYWlTZXJ2aWNlXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBBSVNlcnZpY2UobmV3IEhhbmRDYXNoU2VydmljZSgpKSk7XG5cbiAgY29uc3Qgc2hvd0FJQ2hhdCA9IG9uVG9nZ2xlQUlDaGF0ID8gcHJvcFNob3dBSUNoYXQgOiBpbnRlcm5hbFNob3dBSUNoYXQ7XG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUFJQ2hhdCA9IG9uVG9nZ2xlQUlDaGF0IHx8ICgoKSA9PiBzZXRJbnRlcm5hbFNob3dBSUNoYXQoIWludGVybmFsU2hvd0FJQ2hhdCkpO1xuICBjb25zdCBbc2hvd1B1Ymxpc2hNb2RhbCwgc2V0U2hvd1B1Ymxpc2hNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwdWJsaXNoU2V0dGluZ3MsIHNldFB1Ymxpc2hTZXR0aW5nc10gPSB1c2VTdGF0ZTxQdWJsaXNoU2V0dGluZ3MgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRW5jcnlwdGVkLCBzZXRJc0VuY3J5cHRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZWFkUHJpY2UsIHNldFJlYWRQcmljZV0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbc2hvd1NhdmVCbG9ja2NoYWluTW9kYWwsIHNldFNob3dTYXZlQmxvY2tjaGFpbk1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ByZXNlbGVjdGVkTW9kZSwgc2V0UHJlc2VsZWN0ZWRNb2RlXSA9IHVzZVN0YXRlPCdlbmNyeXB0JyB8ICdzY2hlZHVsZScgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nob3dBY3Rpb25zRHJvcGRvd24sIHNldFNob3dBY3Rpb25zRHJvcGRvd25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNEYXJrTW9kZSwgc2V0SXNEYXJrTW9kZV0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYml0Y29pbi13cml0ZXItZGFyay1tb2RlJyk7XG4gICAgcmV0dXJuIHNhdmVkICE9PSBudWxsID8gc2F2ZWQgPT09ICd0cnVlJyA6IHRydWU7IC8vIERlZmF1bHQgdG8gZGFyayBtb2RlXG4gIH0pO1xuICBjb25zdCBbc2hvd1Rva2VuaXplTW9kYWwsIHNldFNob3dUb2tlbml6ZU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dUd2l0dGVyTW9kYWwsIHNldFNob3dUd2l0dGVyTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1ZlcnNpb25pbmdNb2RhbCwgc2V0U2hvd1ZlcnNpb25pbmdNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtic3ZTZXJ2aWNlXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBCU1ZTdG9yYWdlU2VydmljZShkb2N1bWVudFNlcnZpY2U/LmhhbmRjYXNoU2VydmljZSB8fCB1bmRlZmluZWQpKTtcbiAgY29uc3QgW3RpcHRhcENvbnRlbnQsIHNldFRpcHRhcENvbnRlbnRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY3VycmVudFByaWNlLCBzZXRDdXJyZW50UHJpY2VdID0gdXNlU3RhdGU8c3RyaW5nPignJDAuMDAwMDAwMDAnKTtcbiAgY29uc3QgW2VzdGltYXRlZENvc3QsIHNldEVzdGltYXRlZENvc3RdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2lzRmlyc3RTYXZlLCBzZXRJc0ZpcnN0U2F2ZV0gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICBjb25zdCBpbWFnZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IGxvYWRMb2NhbERvY3VtZW50ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGxldCBkb2NJZCA9IExvY2FsRG9jdW1lbnRTdG9yYWdlLmdldEN1cnJlbnREb2N1bWVudElkKCk7XG4gICAgbGV0IGRvYzogTG9jYWxEb2N1bWVudCB8IG51bGwgPSBudWxsO1xuXG4gICAgaWYgKGRvY0lkKSB7XG4gICAgICBkb2MgPSBMb2NhbERvY3VtZW50U3RvcmFnZS5nZXREb2N1bWVudChkb2NJZCk7XG4gICAgfVxuXG4gICAgaWYgKCFkb2MpIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nRG9jcyA9IExvY2FsRG9jdW1lbnRTdG9yYWdlLmdldEFsbERvY3VtZW50cygpO1xuICAgICAgaWYgKGV4aXN0aW5nRG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0TG9jYWxEb2N1bWVudElkKG51bGwpO1xuICAgICAgICBzZXRDdXJyZW50RG9jdW1lbnQobnVsbCk7XG4gICAgICAgIHNldFRpcHRhcENvbnRlbnQoJzxwPlN0YXJ0IHdyaXRpbmcuLi48L3A+Jyk7XG4gICAgICAgIHNldEVkaXRvckNvbnRlbnQoJzxwPlN0YXJ0IHdyaXRpbmcuLi48L3A+Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1vc3RSZWNlbnQgPSBleGlzdGluZ0RvY3Muc29ydCgoYSwgYikgPT4gXG4gICAgICAgICAgbmV3IERhdGUoYi51cGRhdGVkX2F0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLnVwZGF0ZWRfYXQpLmdldFRpbWUoKVxuICAgICAgICApWzBdO1xuICAgICAgICBpZiAobW9zdFJlY2VudCkge1xuICAgICAgICAgIExvY2FsRG9jdW1lbnRTdG9yYWdlLnNldEN1cnJlbnREb2N1bWVudElkKG1vc3RSZWNlbnQuaWQpO1xuICAgICAgICAgIGRvYyA9IG1vc3RSZWNlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZG9jKSB7XG4gICAgICBzZXRMb2NhbERvY3VtZW50SWQoZG9jLmlkKTtcbiAgICAgIHNldEN1cnJlbnREb2N1bWVudCh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIHRpdGxlOiBkb2MudGl0bGUsXG4gICAgICAgIGNvbnRlbnQ6IGRvYy5jb250ZW50LFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGNyZWF0ZWRfYXQ6IGRvYy5jcmVhdGVkX2F0LFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IGRvYy51cGRhdGVkX2F0LFxuICAgICAgICAgIGF1dGhvcjogaXNBdXRoZW50aWNhdGVkID8gZG9jdW1lbnRTZXJ2aWNlPy5nZXRDdXJyZW50VXNlcigpPy5oYW5kbGUgfHwgJ1VzZXInIDogJ0d1ZXN0JyxcbiAgICAgICAgICBlbmNyeXB0ZWQ6IGZhbHNlLFxuICAgICAgICAgIHdvcmRfY291bnQ6IGRvYy53b3JkX2NvdW50LFxuICAgICAgICAgIGNoYXJhY3Rlcl9jb3VudDogZG9jLmNoYXJhY3Rlcl9jb3VudFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2V0VGlwdGFwQ29udGVudChkb2MuY29udGVudCB8fCAnPHA+PGJyPjwvcD4nKTtcbiAgICAgIHNldEVkaXRvckNvbnRlbnQoZG9jLmNvbnRlbnQgfHwgJzxwPjxicj48L3A+Jyk7XG4gICAgfVxuICB9LCBbaXNBdXRoZW50aWNhdGVkLCBkb2N1bWVudFNlcnZpY2VdKTtcblxuICBjb25zdCBpc0luaXRpYWxNb3VudCA9IHVzZVJlZih0cnVlKTtcbiAgY29uc3QgcHJldlByb3BEb2N1bWVudCA9IHVzZVJlZihwcm9wRG9jdW1lbnQpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByb3BEb2N1bWVudCkge1xuICAgICAgaWYgKHByb3BEb2N1bWVudC5pZCA9PT0gJ2JhcC1leGVjdXRpdmUtc3VtbWFyeScpIHtcbiAgICAgICAgY29uc3QgcGRmRG9jID0ge1xuICAgICAgICAgIGlkOiBwcm9wRG9jdW1lbnQuaWQsXG4gICAgICAgICAgdGl0bGU6IHByb3BEb2N1bWVudC50aXRsZSxcbiAgICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgY3JlYXRlZF9hdDogcHJvcERvY3VtZW50LmNyZWF0ZWRfYXQsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBwcm9wRG9jdW1lbnQudXBkYXRlZF9hdCxcbiAgICAgICAgICAgIGF1dGhvcjogcHJvcERvY3VtZW50LmF1dGhvciB8fCAnJyxcbiAgICAgICAgICAgIGVuY3J5cHRlZDogcHJvcERvY3VtZW50LmVuY3J5cHRlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgIHdvcmRfY291bnQ6IHByb3BEb2N1bWVudC53b3JkX2NvdW50IHx8IDAsXG4gICAgICAgICAgICBjaGFyYWN0ZXJfY291bnQ6IHByb3BEb2N1bWVudC5jaGFyYWN0ZXJfY291bnQgfHwgMCxcbiAgICAgICAgICAgIHN0b3JhZ2VfbWV0aG9kOiBwcm9wRG9jdW1lbnQuc3RvcmFnZV9tZXRob2QsXG4gICAgICAgICAgICBibG9ja2NoYWluX3R4OiBwcm9wRG9jdW1lbnQuYmxvY2tjaGFpbl90eCxcbiAgICAgICAgICAgIHN0b3JhZ2VfY29zdDogcHJvcERvY3VtZW50LnN0b3JhZ2VfY29zdCxcbiAgICAgICAgICAgIGlzUGRmOiB0cnVlLFxuICAgICAgICAgICAgcGRmVXJsOiAnL2RvY3VtZW50cy9iYXBfZXhlY3V0aXZlX3N1bW1hcnkucGRmJ1xuICAgICAgICAgIH0gYXMgYW55XG4gICAgICAgIH07XG4gICAgICAgIHNldEN1cnJlbnREb2N1bWVudChwZGZEb2MpO1xuICAgICAgICBzZXRFZGl0b3JDb250ZW50KCcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEN1cnJlbnREb2N1bWVudCh7XG4gICAgICAgICAgaWQ6IHByb3BEb2N1bWVudC5pZCxcbiAgICAgICAgICB0aXRsZTogcHJvcERvY3VtZW50LnRpdGxlLFxuICAgICAgICAgIGNvbnRlbnQ6IHByb3BEb2N1bWVudC5jb250ZW50IHx8ICcnLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBwcm9wRG9jdW1lbnQuY3JlYXRlZF9hdCxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IHByb3BEb2N1bWVudC51cGRhdGVkX2F0LFxuICAgICAgICAgICAgYXV0aG9yOiBwcm9wRG9jdW1lbnQuYXV0aG9yIHx8ICcnLFxuICAgICAgICAgICAgZW5jcnlwdGVkOiBwcm9wRG9jdW1lbnQuZW5jcnlwdGVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgd29yZF9jb3VudDogcHJvcERvY3VtZW50LndvcmRfY291bnQgfHwgMCxcbiAgICAgICAgICAgIGNoYXJhY3Rlcl9jb3VudDogcHJvcERvY3VtZW50LmNoYXJhY3Rlcl9jb3VudCB8fCAwLFxuICAgICAgICAgICAgc3RvcmFnZV9tZXRob2Q6IHByb3BEb2N1bWVudC5zdG9yYWdlX21ldGhvZCxcbiAgICAgICAgICAgIGJsb2NrY2hhaW5fdHg6IHByb3BEb2N1bWVudC5ibG9ja2NoYWluX3R4LFxuICAgICAgICAgICAgc3RvcmFnZV9jb3N0OiBwcm9wRG9jdW1lbnQuc3RvcmFnZV9jb3N0XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0RWRpdG9yQ29udGVudChwcm9wRG9jdW1lbnQuY29udGVudCB8fCAnJyk7XG4gICAgICAgIHNldFRpcHRhcENvbnRlbnQocHJvcERvY3VtZW50LmNvbnRlbnQgfHwgJycpO1xuICAgICAgICBzZXRJc0ZpcnN0U2F2ZSghcHJvcERvY3VtZW50LmNvbnRlbnQgfHwgcHJvcERvY3VtZW50LmNvbnRlbnQgPT09ICc8cD48YnI+PC9wPicpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcERvY3VtZW50ID09PSBudWxsKSB7XG4gICAgICBpZiAoaXNJbml0aWFsTW91bnQuY3VycmVudCkge1xuICAgICAgICBsb2FkTG9jYWxEb2N1bWVudCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGxvY2FsRG9jdW1lbnRJZCkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aXB0YXBDb250ZW50IHx8IGVkaXRvckNvbnRlbnQ7XG4gICAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudCAhPT0gJycpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjb250ZW50LnJlcGxhY2UoLzxbXj5dKj4vZywgJycpO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RMaW5lID0gdGV4dC5zcGxpdCgnXFxuJylbMF0/LnRyaW0oKSB8fCAnVW50aXRsZWQgRG9jdW1lbnQnO1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBmaXJzdExpbmUuc3Vic3RyaW5nKDAsIDEwMCk7XG4gICAgICAgICAgICBMb2NhbERvY3VtZW50U3RvcmFnZS5hdXRvU2F2ZShsb2NhbERvY3VtZW50SWQsIGNvbnRlbnQsIHRpdGxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZXRMb2NhbERvY3VtZW50SWQobnVsbCk7XG4gICAgICAgIHNldEN1cnJlbnREb2N1bWVudChudWxsKTtcblxuICAgICAgICBzZXRUaXB0YXBDb250ZW50KCc8cD48YnI+PC9wPicpO1xuICAgICAgICBzZXRFZGl0b3JDb250ZW50KCc8cD48YnI+PC9wPicpO1xuICAgICAgICBzZXRXb3JkQ291bnQoMCk7XG4gICAgICAgIHNldENoYXJDb3VudCgwKTtcblxuICAgICAgICBzZXRBdXRvU2F2ZVN0YXR1cygnUmVhZHkgZm9yIG5ldyBkb2N1bWVudCcpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEF1dG9TYXZlU3RhdHVzKCcnKSwgMjAwMCk7XG5cbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkb2N1bWVudENyZWF0ZWQnKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJldlByb3BEb2N1bWVudC5jdXJyZW50ID0gcHJvcERvY3VtZW50O1xuICAgIGlzSW5pdGlhbE1vdW50LmN1cnJlbnQgPSBmYWxzZTtcbiAgfSwgW3Byb3BEb2N1bWVudCwgbG9hZExvY2FsRG9jdW1lbnQsIGlzQXV0aGVudGljYXRlZCwgZG9jdW1lbnRTZXJ2aWNlLCBsb2NhbERvY3VtZW50SWQsIHRpcHRhcENvbnRlbnQsIGVkaXRvckNvbnRlbnRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZU9wZW5Ub2tlbml6ZU1vZGFsID0gKCkgPT4ge1xuICAgICAgc2V0U2hvd1Rva2VuaXplTW9kYWwodHJ1ZSk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcGVuVG9rZW5pemVNb2RhbCcsIGhhbmRsZU9wZW5Ub2tlbml6ZU1vZGFsKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3BlblRva2VuaXplTW9kYWwnLCBoYW5kbGVPcGVuVG9rZW5pemVNb2RhbCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlT3BlblR3aXR0ZXJNb2RhbCA9ICgpID0+IHtcbiAgICAgIHNldFNob3dUd2l0dGVyTW9kYWwodHJ1ZSk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcGVuVHdpdHRlck1vZGFsJywgaGFuZGxlT3BlblR3aXR0ZXJNb2RhbCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29wZW5Ud2l0dGVyTW9kYWwnLCBoYW5kbGVPcGVuVHdpdHRlck1vZGFsKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVPcGVuU2F2ZVRvQmxvY2tjaGFpbiA9ICgpID0+IHtcbiAgICAgIHNldFNob3dTYXZlQmxvY2tjaGFpbk1vZGFsKHRydWUpO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29wZW5TYXZlVG9CbG9ja2NoYWluJywgaGFuZGxlT3BlblNhdmVUb0Jsb2NrY2hhaW4pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuU2F2ZVRvQmxvY2tjaGFpbicsIGhhbmRsZU9wZW5TYXZlVG9CbG9ja2NoYWluKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcERvY3VtZW50KSB7XG4gICAgICBjb25zdCBkb2NEYXRhOiBEb2N1bWVudERhdGEgPSB7XG4gICAgICAgIGlkOiBwcm9wRG9jdW1lbnQuaWQsXG4gICAgICAgIHRpdGxlOiBwcm9wRG9jdW1lbnQudGl0bGUsXG4gICAgICAgIGNvbnRlbnQ6IHByb3BEb2N1bWVudC5jb250ZW50IHx8ICcnLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHByb3BEb2N1bWVudC5jcmVhdGVkX2F0LFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHByb3BEb2N1bWVudC51cGRhdGVkX2F0LFxuICAgICAgICAgIGF1dGhvcjogcHJvcERvY3VtZW50LmF1dGhvciB8fCAnJyxcbiAgICAgICAgICBlbmNyeXB0ZWQ6IHByb3BEb2N1bWVudC5lbmNyeXB0ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgd29yZF9jb3VudDogcHJvcERvY3VtZW50LndvcmRfY291bnQgfHwgMCxcbiAgICAgICAgICBjaGFyYWN0ZXJfY291bnQ6IHByb3BEb2N1bWVudC5jaGFyYWN0ZXJfY291bnQgfHwgMCxcbiAgICAgICAgICBzdG9yYWdlX21ldGhvZDogcHJvcERvY3VtZW50LnN0b3JhZ2VfbWV0aG9kLFxuICAgICAgICAgIGJsb2NrY2hhaW5fdHg6IHByb3BEb2N1bWVudC5ibG9ja2NoYWluX3R4LFxuICAgICAgICAgIHN0b3JhZ2VfY29zdDogcHJvcERvY3VtZW50LnN0b3JhZ2VfY29zdFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2V0Q3VycmVudERvY3VtZW50KGRvY0RhdGEpO1xuICAgICAgc2V0RWRpdG9yQ29udGVudChwcm9wRG9jdW1lbnQuY29udGVudCB8fCAnJyk7XG4gICAgICBzZXRUaXB0YXBDb250ZW50KHByb3BEb2N1bWVudC5jb250ZW50IHx8ICcnKTtcbiAgICAgIHNldElzRmlyc3RTYXZlKCFwcm9wRG9jdW1lbnQuY29udGVudCB8fCBwcm9wRG9jdW1lbnQuY29udGVudCA9PT0gJzxwPjxicj48L3A+Jyk7XG4gICAgfSBlbHNlIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBsb2FkTG9jYWxEb2N1bWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50RG9jdW1lbnQobnVsbCk7XG4gICAgICBzZXRFZGl0b3JDb250ZW50KCc8cD48YnI+PC9wPicpO1xuICAgICAgc2V0VGlwdGFwQ29udGVudCgnPHA+PGJyPjwvcD4nKTtcbiAgICB9XG4gIH0sIFtwcm9wRG9jdW1lbnQsIGlzQXV0aGVudGljYXRlZCwgbG9hZExvY2FsRG9jdW1lbnRdKTtcblxuICBjb25zdCBoYW5kbGVJbnNlcnRGcm9tQUkgPSB1c2VDYWxsYmFjaygodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBlZGl0b3JDb250ZW50LnJlcGxhY2UoLzxbXj5dKj4vZywgJycpLnRyaW0oKTtcbiAgICBjb25zdCBuZXdDb250ZW50ID0gY3VycmVudENvbnRlbnQgKyAnXFxuXFxuJyArIHRleHQ7XG4gICAgY29uc3QgaHRtbENvbnRlbnQgPSBgPHA+JHtuZXdDb250ZW50LnNwbGl0KCdcXG5cXG4nKS5qb2luKCc8L3A+PHA+Jyl9PC9wPmA7XG4gICAgc2V0RWRpdG9yQ29udGVudChodG1sQ29udGVudCk7XG4gICAgc2V0VW5zYXZlZENoYW5nZXModHJ1ZSk7XG4gIH0sIFtlZGl0b3JDb250ZW50XSk7XG5cbiAgY29uc3Qgc2F2ZVRvTG9jYWxTdG9yYWdlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0aXB0YXBDb250ZW50IHx8IGVkaXRvckNvbnRlbnQ7XG4gICAgY29uc3QgdGV4dCA9IGNvbnRlbnQucmVwbGFjZSgvPFtePl0qPi9nLCAnJyk7XG5cbiAgICBpZiAoIXRleHQgfHwgdGV4dC50cmltKCkgPT09ICcnIHx8IGNvbnRlbnQgPT09ICc8cD5TdGFydCB3cml0aW5nLi4uPC9wPicgfHwgY29udGVudCA9PT0gJzxwPjxicj48L3A+Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsb2NhbERvY3VtZW50SWQpIHtcbiAgICAgIGNvbnN0IHRpdGxlID0gZXh0cmFjdFRpdGxlRnJvbUNvbnRlbnQoY29udGVudCkgfHwgJ1VudGl0bGVkIERvY3VtZW50JztcbiAgICAgIExvY2FsRG9jdW1lbnRTdG9yYWdlLmF1dG9TYXZlKGxvY2FsRG9jdW1lbnRJZCwgY29udGVudCwgdGl0bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXdEb2MgPSBMb2NhbERvY3VtZW50U3RvcmFnZS5jcmVhdGVOZXdEb2N1bWVudCgpO1xuICAgICAgY29uc3QgdGl0bGUgPSBleHRyYWN0VGl0bGVGcm9tQ29udGVudChjb250ZW50KSB8fCAnVW50aXRsZWQgRG9jdW1lbnQnO1xuICAgICAgbmV3RG9jLnRpdGxlID0gdGl0bGU7XG4gICAgICBuZXdEb2MuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICBuZXdEb2Mud29yZF9jb3VudCA9IHdvcmRDb3VudDtcbiAgICAgIG5ld0RvYy5jaGFyYWN0ZXJfY291bnQgPSBjaGFyQ291bnQ7XG4gICAgICBMb2NhbERvY3VtZW50U3RvcmFnZS5zYXZlRG9jdW1lbnQobmV3RG9jKTtcbiAgICAgIExvY2FsRG9jdW1lbnRTdG9yYWdlLnNldEN1cnJlbnREb2N1bWVudElkKG5ld0RvYy5pZCk7XG4gICAgICBzZXRMb2NhbERvY3VtZW50SWQobmV3RG9jLmlkKTtcblxuICAgICAgc2V0Q3VycmVudERvY3VtZW50KHtcbiAgICAgICAgaWQ6IG5ld0RvYy5pZCxcbiAgICAgICAgdGl0bGU6IG5ld0RvYy50aXRsZSxcbiAgICAgICAgY29udGVudDogbmV3RG9jLmNvbnRlbnQsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgY3JlYXRlZF9hdDogbmV3RG9jLmNyZWF0ZWRfYXQsXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3RG9jLnVwZGF0ZWRfYXQsXG4gICAgICAgICAgYXV0aG9yOiBpc0F1dGhlbnRpY2F0ZWQgPyBkb2N1bWVudFNlcnZpY2U/LmdldEN1cnJlbnRVc2VyKCk/LmhhbmRsZSB8fCAnVXNlcicgOiAnR3Vlc3QnLFxuICAgICAgICAgIGVuY3J5cHRlZDogZmFsc2UsXG4gICAgICAgICAgd29yZF9jb3VudDogbmV3RG9jLndvcmRfY291bnQsXG4gICAgICAgICAgY2hhcmFjdGVyX2NvdW50OiBuZXdEb2MuY2hhcmFjdGVyX2NvdW50XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAob25Eb2N1bWVudFNhdmVkKSB7XG4gICAgICAgIG9uRG9jdW1lbnRTYXZlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2xvY2FsRG9jdW1lbnRJZCwgdGlwdGFwQ29udGVudCwgZWRpdG9yQ29udGVudCwgd29yZENvdW50LCBjaGFyQ291bnQsIGlzQXV0aGVudGljYXRlZCwgZG9jdW1lbnRTZXJ2aWNlLCBvbkRvY3VtZW50U2F2ZWRdKTtcblxuICBjb25zdCBoYXNVbnNhdmVkQ2hhbmdlcyA9IHVzZUNhbGxiYWNrKCgpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIWN1cnJlbnREb2N1bWVudCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gdGlwdGFwQ29udGVudCB8fCBlZGl0b3JDb250ZW50O1xuICAgIHJldHVybiBjdXJyZW50Q29udGVudCAhPT0gY3VycmVudERvY3VtZW50LmNvbnRlbnQ7XG4gIH0sIFtjdXJyZW50RG9jdW1lbnQsIHRpcHRhcENvbnRlbnQsIGVkaXRvckNvbnRlbnRdKTtcblxuICBjb25zdCBoYW5kbGVOZXdEb2N1bWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAobG9jYWxEb2N1bWVudElkKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gdGlwdGFwQ29udGVudCB8fCBlZGl0b3JDb250ZW50O1xuICAgICAgY29uc3QgdGV4dCA9IGNvbnRlbnQucmVwbGFjZSgvPFtePl0qPi9nLCAnJykudHJpbSgpO1xuICAgICAgaWYgKHRleHQgJiYgdGV4dCAhPT0gJycgJiYgdGV4dCAhPT0gJ1N0YXJ0IHdyaXRpbmcuLi4nKSB7XG4gICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldExvY2FsRG9jdW1lbnRJZChudWxsKTtcbiAgICBMb2NhbERvY3VtZW50U3RvcmFnZS5zZXRDdXJyZW50RG9jdW1lbnRJZCgnJyk7XG4gICAgc2V0Q3VycmVudERvY3VtZW50KG51bGwpO1xuXG4gICAgc2V0VGlwdGFwQ29udGVudCgnPHA+PGJyPjwvcD4nKTtcbiAgICBzZXRFZGl0b3JDb250ZW50KCc8cD48YnI+PC9wPicpO1xuICAgIHNldFdvcmRDb3VudCgwKTtcbiAgICBzZXRDaGFyQ291bnQoMCk7XG4gICAgc2V0SXNGaXJzdFNhdmUodHJ1ZSk7XG5cbiAgICBzZXRBdXRvU2F2ZVN0YXR1cygnTmV3IGRvY3VtZW50IHJlYWR5Jyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRBdXRvU2F2ZVN0YXR1cygnJyksIDIwMDApO1xuICB9LCBbbG9jYWxEb2N1bWVudElkLCBzYXZlVG9Mb2NhbFN0b3JhZ2UsIGlzQXV0aGVudGljYXRlZCwgZG9jdW1lbnRTZXJ2aWNlLCBvbkRvY3VtZW50VXBkYXRlLCB0aXB0YXBDb250ZW50LCBlZGl0b3JDb250ZW50XSk7XG5cblxuICBjb25zdCBzYXZlRG9jdW1lbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0U2hvd1NhdmVCbG9ja2NoYWluTW9kYWwodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQmxvY2tjaGFpblNhdmUgPSBhc3luYyAob3B0aW9uczogQmxvY2tjaGFpblNhdmVPcHRpb25zKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldFNob3dTYXZlQmxvY2tjaGFpbk1vZGFsKGZhbHNlKTtcbiAgICAgIHNldEF1dG9TYXZlU3RhdHVzKCfwn5K+IFNhdmluZyB0byBibG9ja2NoYWluLi4uJyk7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aXB0YXBDb250ZW50IHx8IGVkaXRvckNvbnRlbnQ7XG4gICAgICBjb25zdCB0ZXh0ID0gY29udGVudC5yZXBsYWNlKC88W14+XSo+L2csICcnKTtcbiAgICAgIGNvbnN0IHRpdGxlID0gZXh0cmFjdFRpdGxlRnJvbUNvbnRlbnQodGV4dCkgfHwgb3B0aW9ucy5tZXRhZGF0YS50aXRsZTtcblxuICAgICAgbGV0IHJlc3VsdDogYW55ID0gbnVsbDtcblxuICAgICAgaWYgKG9wdGlvbnMubW9uZXRpemF0aW9uPy5lbmFibGVBc3NldCkge1xuICAgICAgICBzZXRBdXRvU2F2ZVN0YXR1cygn8J+OqCBDcmVhdGluZyBCaXRjb2luIE9TIEFzc2V0Li4uJyk7XG5cbiAgICAgICAgY29uc3QgaGFuZGNhc2hTZXJ2aWNlID0gbmV3IEhhbmRDYXNoU2VydmljZSgpO1xuICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBoYW5kY2FzaFNlcnZpY2UuZ2V0QWNjZXNzVG9rZW4oKTtcblxuICAgICAgICBpZiAoIWF1dGhUb2tlbikge1xuICAgICAgICAgIGFsZXJ0KCdQbGVhc2Ugc2lnbiBpbiB3aXRoIEhhbmRDYXNoIHRvIGNyZWF0ZSBCaXRjb2luIE9TIGFzc2V0cycpO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoJycpO1xuICAgICAgICAgIGlmIChvbkF1dGhSZXF1aXJlZCkge1xuICAgICAgICAgICAgb25BdXRoUmVxdWlyZWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXRlbXNTZXJ2aWNlID0gbmV3IEhhbmRDYXNoSXRlbXNTZXJ2aWNlKCk7XG4gICAgICAgIGNvbnN0IGFzc2V0RGF0YSA9IHtcbiAgICAgICAgICBuYW1lOiB0aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogb3B0aW9ucy5tZXRhZGF0YS5kZXNjcmlwdGlvbiB8fCBgJHt0aXRsZX0gLSBBIGRvY3VtZW50IHNhdmVkIGFzIEJpdGNvaW4gT1MgYXNzZXRgLFxuICAgICAgICAgIHF1YW50aXR5OiBvcHRpb25zLm1vbmV0aXphdGlvbi5tYXhTdXBwbHkgfHwgMSxcbiAgICAgICAgICBpbml0aWFsUHJpY2U6IG9wdGlvbnMubW9uZXRpemF0aW9uLmluaXRpYWxQcmljZSB8fCAxLFxuICAgICAgICAgIHJveWFsdHlQZXJjZW50YWdlOiBvcHRpb25zLm1vbmV0aXphdGlvbi5yb3lhbHR5UGVyY2VudGFnZSB8fCAxMCxcbiAgICAgICAgICByYXJpdHk6ICdjb21tb24nIGFzIGNvbnN0LFxuICAgICAgICAgIGRvY3VtZW50Q29udGVudDogdGV4dCxcbiAgICAgICAgICBkb2N1bWVudE1ldGFkYXRhOiB7XG4gICAgICAgICAgICBpZDogbG9jYWxEb2N1bWVudElkIHx8IGBkb2NfJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICB3b3JkQ291bnQ6IHdvcmRDb3VudCxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgY29udGVudEhhc2g6IGl0ZW1zU2VydmljZS5jYWxjdWxhdGVDb250ZW50SGFzaCh0ZXh0KSxcbiAgICAgICAgICAgIHN0b3JhZ2VNZXRob2Q6IG9wdGlvbnMuc3RvcmFnZU1ldGhvZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhc3NldFJlc3VsdCA9IGF3YWl0IGl0ZW1zU2VydmljZS5taW50RG9jdW1lbnRORlQoYXV0aFRva2VuLCBhc3NldERhdGEpO1xuXG4gICAgICAgIGlmIChhc3NldFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoJ+KchSBCaXRjb2luIE9TIGFzc2V0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuXG4gICAgICAgICAgaWYgKGFzc2V0UmVzdWx0Lm1hcmtldFVybCkge1xuICAgICAgICAgICAgYWxlcnQoYEJpdGNvaW4gT1MgYXNzZXQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhXFxuXFxuVmlldyBvbiBIYW5kQ2FzaCBNYXJrZXQ6XFxuJHthc3NldFJlc3VsdC5tYXJrZXRVcmx9YCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KCdCaXRjb2luIE9TIGFzc2V0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5ISBDaGVjayB5b3VyIEhhbmRDYXNoIHdhbGxldC4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5zdG9yYWdlTWV0aG9kICE9PSAnY2xvdWQnKSB7XG4gICAgICAgICAgICBzZXRBdXRvU2F2ZVN0YXR1cygn8J+TnSBTdG9yaW5nIGRvY3VtZW50IG9uLWNoYWluLi4uJyk7XG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBic3ZTZXJ2aWNlLnN0b3JlRG9jdW1lbnRXaXRoT3B0aW9ucyhcbiAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgZG9jdW1lbnRTZXJ2aWNlPy5nZXRDdXJyZW50VXNlcigpPy5oYW5kbGUgfHwgJ2Fub255bW91cydcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihhc3NldFJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBCaXRjb2luIE9TIGFzc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGJzdlNlcnZpY2Uuc3RvcmVEb2N1bWVudFdpdGhPcHRpb25zKFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBkb2N1bWVudFNlcnZpY2U/LmdldEN1cnJlbnRVc2VyKCk/LmhhbmRsZSB8fCAnYW5vbnltb3VzJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0ICYmIGN1cnJlbnREb2N1bWVudCkge1xuICAgICAgICBjb25zdCB1cGRhdGVkRG9jID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnREb2N1bWVudCxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgLi4uY3VycmVudERvY3VtZW50Lm1ldGFkYXRhLFxuICAgICAgICAgICAgYmxvY2tjaGFpbl90eDogcmVzdWx0LnRyYW5zYWN0aW9uSWQsXG4gICAgICAgICAgICBzdG9yYWdlX2Nvc3Q6IHJlc3VsdC5zdG9yYWdlQ29zdC50b3RhbFVTRCxcbiAgICAgICAgICAgIHN0b3JhZ2VfbWV0aG9kOiBvcHRpb25zLnN0b3JhZ2VNZXRob2RcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldEN1cnJlbnREb2N1bWVudCh1cGRhdGVkRG9jKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG5ld0RvYzogRG9jdW1lbnREYXRhID0ge1xuICAgICAgICAgIGlkOiByZXN1bHQudHJhbnNhY3Rpb25JZCxcbiAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICBjb250ZW50OiB0ZXh0LFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBhdXRob3I6IGRvY3VtZW50U2VydmljZT8uZ2V0Q3VycmVudFVzZXIoKT8uaGFuZGxlIHx8ICdhbm9ueW1vdXMnLFxuICAgICAgICAgICAgZW5jcnlwdGVkOiBvcHRpb25zLmVuY3J5cHRpb24sXG4gICAgICAgICAgICB3b3JkX2NvdW50OiB3b3JkQ291bnQsXG4gICAgICAgICAgICBjaGFyYWN0ZXJfY291bnQ6IGNoYXJDb3VudCxcbiAgICAgICAgICAgIHN0b3JhZ2VfbWV0aG9kOiBvcHRpb25zLnN0b3JhZ2VNZXRob2QsXG4gICAgICAgICAgICBibG9ja2NoYWluX3R4OiByZXN1bHQudHJhbnNhY3Rpb25JZCxcbiAgICAgICAgICAgIHN0b3JhZ2VfY29zdDogcmVzdWx0LnN0b3JhZ2VDb3N0LnRvdGFsVVNEXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRDdXJyZW50RG9jdW1lbnQobmV3RG9jKTtcbiAgICAgIH1cblxuICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoYOKchSBTYXZlZCB0byBibG9ja2NoYWluIWApO1xuXG4gICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC51bmxvY2tMaW5rKSB7XG4gICAgICAgIGFsZXJ0KGBEb2N1bWVudCBzYXZlZCEgU2hhcmUgdGhpcyB1bmxvY2sgbGluazogJHtyZXN1bHQudW5sb2NrTGlua31gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQucGF5bWVudEFkZHJlc3MpIHtcbiAgICAgICAgYWxlcnQoYFBheW1lbnQgYWRkcmVzcyBmb3IgcmVhZGVyczogJHtyZXN1bHQucGF5bWVudEFkZHJlc3N9YCk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHRvIGJsb2NrY2hhaW46JywgZXJyb3IpO1xuICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoJ+KdjCBGYWlsZWQgdG8gc2F2ZScpO1xuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBzYXZlIHRvIGJsb2NrY2hhaW4uIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRva2VuaXplID0gYXN5bmMgKHByb3RvY29sOiBzdHJpbmcsIG9wdGlvbnM6IFRva2VuaXphdGlvbk9wdGlvbnMpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc29sZS5sb2coJ1Rva2VuaXppbmcgZG9jdW1lbnQgd2l0aCBwcm90b2NvbDonLCBwcm90b2NvbCwgb3B0aW9ucyk7XG5cbiAgICAgIGFsZXJ0KGBEb2N1bWVudCB3b3VsZCBiZSB0b2tlbml6ZWQgdXNpbmcgJHtvcHRpb25zLm5hbWV9IG9uICR7cHJvdG9jb2wudG9VcHBlckNhc2UoKX0gcHJvdG9jb2wuXFxuXFxuVGhpcyBmZWF0dXJlIGlzIGNvbWluZyBzb29uIWApO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB0b2tlbml6ZSBkb2N1bWVudDonLCBlcnJvcik7XG4gICAgICBhbGVydCgnRmFpbGVkIHRvIHRva2VuaXplIGRvY3VtZW50OiAnICsgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGF1dG9TYXZlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgIHNldEF1dG9TYXZlU3RhdHVzKCfinIUgQXV0by1zYXZlZCBsb2NhbGx5Jyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEF1dG9TYXZlU3RhdHVzKCcnKSwgMjAwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjdXJyZW50RG9jdW1lbnQgfHwgIWRvY3VtZW50U2VydmljZSkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIHNldEF1dG9TYXZlU3RhdHVzKCfwn5K+IEF1dG8tc2F2aW5nIHRvIGJsb2NrY2hhaW4uLi4nKTtcblxuICAgICAgY29uc3QgY29udGVudCA9IHRpcHRhcENvbnRlbnQgfHwgZWRpdG9yQ29udGVudDtcbiAgICAgIGNvbnN0IHRleHQgPSBjb250ZW50LnJlcGxhY2UoLzxbXj5dKj4vZywgJycpO1xuICAgICAgY29uc3QgdGl0bGUgPSBleHRyYWN0VGl0bGVGcm9tQ29udGVudCh0ZXh0KSB8fCBjdXJyZW50RG9jdW1lbnQudGl0bGU7XG5cbiAgICAgIGF3YWl0IGRvY3VtZW50U2VydmljZS51cGRhdGVEb2N1bWVudChjdXJyZW50RG9jdW1lbnQuaWQsIHRpdGxlLCB0ZXh0LCBzZWxlY3RlZFN0b3JhZ2VPcHRpb24/LmlkIGFzIGFueSk7XG5cbiAgICAgIHNldEN1cnJlbnREb2N1bWVudChwcmV2ID0+IHByZXYgPyB7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBjb250ZW50OiB0ZXh0LFxuICAgICAgICBsYXN0VXBkYXRlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgd29yZENvdW50LFxuICAgICAgICBjaGFyQ291bnRcbiAgICAgIH0gOiBudWxsKTtcblxuICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoJ+KchSBBdXRvLXNhdmVkIHRvIGJsb2NrY2hhaW4nKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0QXV0b1NhdmVTdGF0dXMoJycpLCAyMDAwKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQXV0by1zYXZlIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBzZXRBdXRvU2F2ZVN0YXR1cygn4p2MIEF1dG8tc2F2ZSBmYWlsZWQnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0QXV0b1NhdmVTdGF0dXMoJycpLCAzMDAwKTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIGN1cnJlbnREb2N1bWVudCwgZG9jdW1lbnRTZXJ2aWNlLCBzZWxlY3RlZFN0b3JhZ2VPcHRpb24sIHdvcmRDb3VudCwgY2hhckNvdW50LCBzYXZlVG9Mb2NhbFN0b3JhZ2UsIHRpcHRhcENvbnRlbnQsIGVkaXRvckNvbnRlbnRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKGxvY2FsRG9jdW1lbnRJZCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGlwdGFwQ29udGVudCB8fCBlZGl0b3JDb250ZW50O1xuICAgICAgICBpZiAoY29udGVudCAmJiBjb250ZW50ICE9PSAnPHA+U3RhcnQgd3JpdGluZy4uLjwvcD4nKSB7XG4gICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG5cbiAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBub3cudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgXG4gICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsIFxuICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcgXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoYOKckyBBdXRvLXNhdmVkIGF0ICR7dGltZVN0cmluZ31gKTtcbiAgICAgICAgICBzZXRMYXN0U2F2ZVRpbWUobm93KTtcbiAgICAgICAgICBzZXRVbnNhdmVkQ2hhbmdlcyhmYWxzZSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRBdXRvU2F2ZVN0YXR1cygnJyksIDUwMDApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQgJiYgbG9jYWxEb2N1bWVudElkKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChub3cgLSBsYXN0SGFzaFRpbWUgPiA2MDAwMCkgeyAvLyBFdmVyeSBtaW51dGVcbiAgICAgICAgICBoYXNoRG9jdW1lbnQoKTtcbiAgICAgICAgICBjb25zdCB0aW1lU3RyaW5nID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBcbiAgICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRBdXRvU2F2ZVN0YXR1cyhg4puT77iPIFNhdmVkIHRvIGJsb2NrY2hhaW4gYXQgJHt0aW1lU3RyaW5nfWApO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0QXV0b1NhdmVTdGF0dXMoJycpLCA1MDAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDYwMDAwKTtcblxuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSwgW3NhdmVUb0xvY2FsU3RvcmFnZSwgaXNBdXRoZW50aWNhdGVkLCBsb2NhbERvY3VtZW50SWQsIGxhc3RIYXNoVGltZSwgdGlwdGFwQ29udGVudCwgZWRpdG9yQ29udGVudF0pO1xuXG4gIGNvbnN0IGhhc2hEb2N1bWVudCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWxvY2FsRG9jdW1lbnRJZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGVudCA9IHRpcHRhcENvbnRlbnQgfHwgZWRpdG9yQ29udGVudDtcbiAgICBjb25zdCB0ZXh0ID0gY29udGVudC5yZXBsYWNlKC88W14+XSo+L2csICcnKTtcbiAgICBpZiAoIXRleHQgfHwgdGV4dC5sZW5ndGggPCAxMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFzaCA9IENyeXB0b0pTLlNIQTI1Nih0ZXh0KS50b1N0cmluZygpO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIGNvbnN0IGRvYyA9IExvY2FsRG9jdW1lbnRTdG9yYWdlLmdldERvY3VtZW50KGxvY2FsRG9jdW1lbnRJZCk7XG4gICAgaWYgKGRvYykge1xuICAgICAgZG9jLmlzX2hhc2hlZCA9IHRydWU7XG4gICAgICBkb2MuaGFzaCA9IGhhc2g7XG4gICAgICBkb2MudXBkYXRlZF9hdCA9IHRpbWVzdGFtcDtcbiAgICAgIExvY2FsRG9jdW1lbnRTdG9yYWdlLnNhdmVEb2N1bWVudChkb2MpO1xuICAgIH1cblxuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQgJiYgYnN2U2VydmljZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoJ+Kak++4jyBIYXNoaW5nIHRvIGJsb2NrY2hhaW4uLi4nKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnRG9jdW1lbnQgaGFzaDonLCBoYXNoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1RpbWVzdGFtcDonLCB0aW1lc3RhbXApO1xuXG4gICAgICAgIHNldExhc3RIYXNoVGltZShEYXRlLm5vdygpKTtcbiAgICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoJ+KckyBIYXNoZWQgdG8gYmxvY2tjaGFpbicpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEF1dG9TYXZlU3RhdHVzKCcnKSwgMzAwMCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaGFzaCB0byBibG9ja2NoYWluOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZXh0cmFjdFRpdGxlRnJvbUNvbnRlbnQgPSAoaHRtbDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGVtcERpdi5pbm5lckhUTUwgPSBodG1sO1xuICAgIGNvbnN0IHRleHQgPSB0ZW1wRGl2LnRleHRDb250ZW50IHx8IHRlbXBEaXYuaW5uZXJUZXh0IHx8ICcnO1xuICAgIGNvbnN0IGZpcnN0TGluZSA9IHRleHQuc3BsaXQoJ1xcbicpWzBdLnRyaW0oKTtcbiAgICByZXR1cm4gZmlyc3RMaW5lLmxlbmd0aCA+IDAgJiYgZmlyc3RMaW5lLmxlbmd0aCA8PSAxMDAgPyBmaXJzdExpbmUgOiAnVW50aXRsZWQgRG9jdW1lbnQnO1xuICB9O1xuXG4gIGNvbnN0IGluc2VydEltYWdlID0gKCkgPT4ge1xuICAgIGltYWdlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVJbWFnZVNlbGVjdCA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Py5yZXN1bHQpIHtcbiAgICAgICAgICBpbnNlcnRJbWFnZUludG9FZGl0b3IoZXZlbnQudGFyZ2V0LnJlc3VsdCBhcyBzdHJpbmcsIGZpbGUubmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaW5zZXJ0SW1hZ2VJbnRvRWRpdG9yID0gKGltYWdlU3JjOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zb2xlLmxvZygnSW1hZ2UgaW5zZXJ0aW9uIHNob3VsZCBiZSBkb25lIHRocm91Z2ggVGlwdGFwIHRvb2xiYXInKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIGUua2V5ID09PSAncycpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNhdmVEb2N1bWVudCgpO1xuICAgIH0gZWxzZSBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIGUua2V5ID09PSAnbicpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhhbmRsZU5ld0RvY3VtZW50KCk7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0YxMScpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFRleHQnLCBmYWxzZSwgJyAgICAnKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlRnVsbHNjcmVlbiA9ICgpID0+IHtcbiAgICBzZXRJc0Z1bGxzY3JlZW4oIWlzRnVsbHNjcmVlbik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmlsZURyb3AgPSBhc3luYyAoZmlsZXM6IEZpbGVMaXN0KSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZmlsZSA9IGZpbGVzW2ldO1xuXG4gICAgICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Py5yZXN1bHQpIHtcbiAgICAgICAgICAgIGluc2VydEltYWdlSW50b0VkaXRvcihldmVudC50YXJnZXQucmVzdWx0IGFzIHN0cmluZywgZmlsZS5uYW1lKTtcbiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oYEFkZGVkIGltYWdlOiAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSBlbHNlIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoJy5kb2N4JykgfHwgZmlsZS5uYW1lLmVuZHNXaXRoKCcuZG9jJykpIHtcbiAgICAgICAgc2hvd05vdGlmaWNhdGlvbignSW1wb3J0aW5nIFdvcmQgZG9jdW1lbnQuLi4nKTtcbiAgICAgICAgY29uc3QgaW1wb3J0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmltcG9ydC1idG4nKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGltcG9ydEJ0bikge1xuICAgICAgICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgICAgICAgICBkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKGZpbGUpO1xuICAgICAgICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb2N4LWltcG9ydCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKGZpbGVJbnB1dCkge1xuICAgICAgICAgICAgZmlsZUlucHV0LmZpbGVzID0gZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGZpbGVJbnB1dC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gZXZlbnQudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nO1xuXG4gICAgICAgICAgc2V0Q3VycmVudERvY3VtZW50KHtcbiAgICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICAgIHRpdGxlOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIGF1dGhvcjogZG9jdW1lbnRTZXJ2aWNlPy5nZXRDdXJyZW50VXNlcigpPy5oYW5kbGUgfHwgJ1VzZXInLFxuICAgICAgICAgICAgICBlbmNyeXB0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICB3b3JkX2NvdW50OiAwLFxuICAgICAgICAgICAgICBjaGFyYWN0ZXJfY291bnQ6IGNvbnRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0U2hvd1NhdmVCbG9ja2NoYWluTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgc2hvd05vdGlmaWNhdGlvbihgUmVhZHkgdG8gdXBsb2FkOiAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3RleHQvJykgfHwgZmlsZS50eXBlID09PSAnYXBwbGljYXRpb24vanNvbicpIHtcbiAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXN0ZSA9IChlOiBSZWFjdC5DbGlwYm9hcmRFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0ZXh0ID0gZS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0VGV4dCcsIGZhbHNlLCB0ZXh0KTtcbiAgfTtcblxuICBjb25zdCBzaG93Tm90aWZpY2F0aW9uID0gKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogJ3N1Y2Nlc3MnIHwgJ2Vycm9yJyA9ICdzdWNjZXNzJykgPT4ge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5vdGlmaWNhdGlvbi5jbGFzc05hbWUgPSBgbm90aWZpY2F0aW9uICR7dHlwZX1gO1xuICAgIG5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgbm90aWZpY2F0aW9uLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6IDIwcHg7XG4gICAgICByaWdodDogMjBweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dHlwZSA9PT0gJ2Vycm9yJyA/ICcjZmY0NDQ0JyA6ICcjNDRmZjQ0J307XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBwYWRkaW5nOiAxMnB4IDIwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjMpO1xuICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzIGVhc2U7XG4gICAgYDtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbm90aWZpY2F0aW9uLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgbm90aWZpY2F0aW9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm90aWZpY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9LCAzMDAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbmNyeXB0ID0gKCkgPT4ge1xuICAgIGlmIChpc0VuY3J5cHRlZCkge1xuICAgICAgc2V0SXNFbmNyeXB0ZWQoZmFsc2UpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbignRG9jdW1lbnQgZGVjcnlwdGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldElzRW5jcnlwdGVkKHRydWUpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbignRG9jdW1lbnQgZW5jcnlwdGVkJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNldFByaWNlID0gKCkgPT4ge1xuICAgIGNvbnN0IHByaWNlID0gcHJvbXB0KCdTZXQgcHJpY2UgdG8gcmVhZCAoaW4gVVNEKTonLCByZWFkUHJpY2UudG9TdHJpbmcoKSk7XG4gICAgaWYgKHByaWNlICE9PSBudWxsICYmICFpc05hTihOdW1iZXIocHJpY2UpKSkge1xuICAgICAgc2V0UmVhZFByaWNlKE51bWJlcihwcmljZSkpO1xuICAgICAgc2hvd05vdGlmaWNhdGlvbihgUmVhZCBwcmljZSBzZXQgdG8gJCR7cHJpY2V9YCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZURhcmtNb2RlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0RhcmtNb2RlID0gIWlzRGFya01vZGU7XG4gICAgc2V0SXNEYXJrTW9kZShuZXdEYXJrTW9kZSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JpdGNvaW4td3JpdGVyLWRhcmstbW9kZScsIG5ld0RhcmtNb2RlLnRvU3RyaW5nKCkpO1xuICAgIHNob3dOb3RpZmljYXRpb24oYCR7bmV3RGFya01vZGUgPyAnRGFyaycgOiAnTGlnaHQnfSBtb2RlIGVuYWJsZWRgKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgZG9jdW1lbnQtZWRpdG9yICR7aXNGdWxsc2NyZWVuID8gJ2Z1bGxzY3JlZW4nIDogJyd9ICR7aXNEYXJrTW9kZSA/ICdkYXJrLW1vZGUnIDogJyd9YH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgey8qIE1vYmlsZSBMYXlvdXQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1tb2JpbGVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vYmlsZS1tYWluLWFjdGlvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3NhdmVEb2N1bWVudH0gXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9IFxuICAgICAgICAgICAgICB0aXRsZT17aXNBdXRoZW50aWNhdGVkID8gXCJTYXZlIHRvIEJsb2NrY2hhaW5cIiA6IFwiU2F2ZSAoU2lnbiBpbiBmb3IgYmxvY2tjaGFpbilcIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc2F2ZS1idG4tbW9iaWxlICR7IWlzQXV0aGVudGljYXRlZCA/ICdzYXZlLWd1ZXN0JyA6ICcnfWB9PlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE1LDlINVY1SDE1TTEyLDE5QTMsMyAwIDAsMSA5LDE2QTMsMyAwIDAsMSAxMiwxM0EzLDMgMCAwLDEgMTUsMTZBMywzIDAgMCwxIDEyLDE5TTE3LDNINUMzLjg5LDMgMywzLjkgMyw1VjE5QTIsMiAwIDAsMCA1LDIxSDE5QTIsMiAwIDAsMCAyMSwxOVY3TDE3LDNaXCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgU2F2ZSB7d29yZENvdW50ID4gMCAmJiBgKCR7Y3VycmVudFByaWNlfSlgfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9iaWxlLWRyb3Bkb3duLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1vYmlsZS1hY3Rpb25zLWJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0FjdGlvbnNEcm9wZG93bighc2hvd0FjdGlvbnNEcm9wZG93bil9XG4gICAgICAgICAgICAgICAgdGl0bGU9XCJNb3JlIGFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTIsMTUuNUEzLjUsMy41IDAgMCwxIDguNSwxMkEzLjUsMy41IDAgMCwxIDEyLDguNUEzLjUsMy41IDAgMCwxIDE1LjUsMTJBMy41LDMuNSAwIDAsMSAxMiwxNS41TTE5LjQzLDEyLjk3QzE5LjQ3LDEyLjY1IDE5LjUsMTIuMzMgMTkuNSwxMkMxOS41LDExLjY3IDE5LjQ3LDExLjM0IDE5LjQzLDExLjAzTDIxLjU0LDkuMzdDMjEuNzMsOS4yMiAyMS43OCw4Ljk1IDIxLjY2LDguNzNMMTkuNjYsNS4yN0MxOS41NCw1LjA1IDE5LjI3LDQuOTYgMTkuMDUsNS4wNUwxNi41Niw2LjA1QzE2LjA0LDUuNjYgMTUuNSw1LjMyIDE0Ljg3LDUuMDdMMTQuNSwyLjQyQzE0LjQ2LDIuMTggMTQuMjUsMiAxNCwySDEwQzkuNzUsMiA5LjU0LDIuMTggOS41LDIuNDJMOS4xMyw1LjA3QzguNSw1LjMyIDcuOTYsNS42NiA3LjQ0LDYuMDVMNC45NSw1LjA1QzQuNzMsNC45NiA0LjQ2LDUuMDUgNC4zNCw1LjI3TDIuMzQsOC43M0MyLjIyLDguOTUgMi4yNyw5LjIyIDIuNDYsOS4zN0w0LjU3LDExLjAzQzQuNTMsMTEuMzQgNC41LDExLjY3IDQuNSwxMkM0LjUsMTIuMzMgNC41MywxMi42NSA0LjU3LDEyLjk3TDIuNDYsMTQuNjNDMi4yNywxNC43OCAyLjIyLDE1LjA1IDIuMzQsMTUuMjdMNC4zNCwxOC43M0M0LjQ2LDE4Ljk1IDQuNzMsMTkuMDMgNC45NSwxOC45NUw3LjQ0LDE3Ljk0QzcuOTYsMTguMzQgOC41LDE4LjY4IDkuMTMsMTguOTNMOS41LDIxLjU4QzkuNTQsMjEuODIgOS43NSwyMiAxMCwyMkgxNEMxNC4yNSwyMiAxNC40NiwyMS44MiAxNC41LDIxLjU4TDE0Ljg3LDE4LjkzQzE1LjUsMTguNjggMTYuMDQsMTguMzQgMTYuNTYsMTcuOTRMMTkuMDUsMTguOTVDMTkuMjcsMTkuMDMgMTkuNTQsMTguOTUgMTkuNjYsMTguNzNMMjEuNjYsMTUuMjdDMjEuNzgsMTUuMDUgMjEuNzMsMTQuNzggMjEuNTQsMTQuNjNMMTkuNDMsMTIuOTdaXCIvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIEFjdGlvbnNcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7c2hvd0FjdGlvbnNEcm9wZG93biAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2JpbGUtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dBY3Rpb25zRHJvcGRvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBzdHlsZT17e21hcmdpblJpZ2h0OiAnOHB4J319PlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOSwyVjcuMzhMMTAuNSw4Ljg4TDEyLDcuMzhWMkg5TTIwLDVWMTlDMjAsMjAuMSAxOS4xLDIxIDE4LDIxSDZDNC44OSwyMSA0LDIwLjEgNCwxOVY1QzQsMy44OSA0Ljg5LDMgNiwzSDdWOUw5LjUsNi41TDEyLDlWM0gxOEMxOS4xLDMgMjAsMy44OSAyMCw1WlwiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgIEFkZCBJbWFnZVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICB7aXNBdXRoZW50aWNhdGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFbmNyeXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dBY3Rpb25zRHJvcGRvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bkcm9wZG93bi1pdGVtICR7aXNFbmNyeXB0ZWQgPyAnZW5jcnlwdGVkJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHN0eWxlPXt7bWFyZ2luUmlnaHQ6ICc4cHgnfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9e2lzRW5jcnlwdGVkID8gXCJNMTIsMUwzLDVWMTFDMywxNi41NSA2Ljg0LDIxLjc0IDEyLDIzQzE3LjE2LDIxLjc0IDIxLDE2LjU1IDIxLDExVjVMMTIsMU0xMiw3QzEzLjQsNyAxNC44LDguNiAxNC44LDEwVjExSDE2VjE4SDhWMTFIOS4yVjEwQzkuMiw4LjYgMTAuNiw3IDEyLDdNMTIsOC4yQzExLjIsOC4yIDEwLjIsOC43IDEwLjIsMTBWMTFIMTMuOFYxMEMxMy44LDguNyAxMi44LDguMiAxMiw4LjJaXCIgOiBcIk0xMiwxTDMsNVYxMUMzLDE2LjU1IDYuODQsMjEuNzQgMTIsMjNDMTcuMTYsMjEuNzQgMjEsMTYuNTUgMjEsMTFWNUwxMiwxTTEyLDdDMTMuNCw3IDE0LjgsOC42IDE0LjgsMTBWMTFIMTVDMTUuNiwxMSAxNiwxMS40IDE2LDEyVjE4QzE2LDE4LjYgMTUuNiwxOSAxNSwxOUg5QzguNCwxOSA4LDE4LjYgOCwxOFYxMkM4LDExLjQgOC40LDExIDksMTFIOS4yVjEwQzkuMiw4LjYgMTAuNiw3IDEyLDdNMTIsOC4yQzExLjIsOC4yIDEwLjIsOC43IDEwLjIsMTBWMTFIMTMuOFYxMEMxMy44LDguNyAxMi44LDguMiAxMiw4LjJaXCJ9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzRW5jcnlwdGVkID8gJ0RlY3J5cHQnIDogJ0VuY3J5cHQgRHJhZnQnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVNldFByaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dBY3Rpb25zRHJvcGRvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk03LDE1SDlDOSwxNi4wOCAxMC4zNywxNyAxMiwxN0MxMy42MywxNyAxNSwxNi4wOCAxNSwxNUMxNSwxMy45IDEzLjk2LDEzLjUgMTEuNzYsMTIuOTdDOS42NCwxMi40NCA3LDExLjc4IDcsOUM3LDcuMjEgOC40Nyw1LjY5IDEwLjUsNS4xOFYzSDEzLjVWNS4xOEMxNS41Myw1LjY5IDE3LDcuMjEgMTcsOUgxNUMxNSw3LjkyIDEzLjYzLDcgMTIsN0MxMC4zNyw3IDksNy45MiA5LDlDOSwxMC4xIDEwLjA0LDEwLjUgMTIuMjQsMTEuMDNDMTQuMzYsMTEuNTYgMTcsMTIuMjIgMTcsMTVDMTcsMTYuNzkgMTUuNTMsMTguMzEgMTMuNSwxOC44MlYyMUgxMC41VjE4LjgyQzguNDcsMTguMzEgNywxNi43OSA3LDE1WlwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0IFByaWNlIHRvIFJlYWQge3JlYWRQcmljZSA+IDAgPyBgKCQke3JlYWRQcmljZX0pYCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dQdWJsaXNoTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dBY3Rpb25zRHJvcGRvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNy45LDE3LjM5QzE3LjY0LDE2LjU5IDE2Ljg5LDE2IDE2LDE2SDE1VjEzQTEsMSAwIDAsMCAxNCwxMkg4VjEwSDEwQTEsMSAwIDAsMCAxMSw5VjdIMTNBMiwyIDAgMCwwIDE1LDVWNC41OUMxNy45Myw1Ljc3IDIwLDguNjQgMjAsMTJDMjAsMTQuMDggMTkuMiwxNS45NyAxNy45LDE3LjM5TTExLDE5LjkzQzcuMDUsMTkuNDQgNCwxNi4wOCA0LDEyQzQsMTEuMzggNC4wOCwxMC43OCA0LjIxLDEwLjIxTDksMTVWMTZBMiwyIDAgMCwwIDExLDE4TTEyLDJBMTAsMTAgMCAwLDAgMiwxMkExMCwxMCAwIDAsMCAxMiwyMkExMCwxMCAwIDAsMCAyMiwxMkExMCwxMCAwIDAsMCAxMiwyWlwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgUHVibGlzaCBEb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dBY3Rpb25zRHJvcGRvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgIOKbtiBGdWxsc2NyZWVuXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9iaWxlLXN0YXRzXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3b3JkLWNvdW50XCI+e3dvcmRDb3VudH13PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2hhci1jb3VudFwiPntjaGFyQ291bnR9Yzwvc3Bhbj5cbiAgICAgICAgICAgIDxQcmljaW5nRGlzcGxheSBcbiAgICAgICAgICAgICAgd29yZENvdW50PXt3b3JkQ291bnR9XG4gICAgICAgICAgICAgIGNoYXJhY3RlckNvdW50PXtjaGFyQ291bnR9XG4gICAgICAgICAgICAgIGNvbnRlbnQ9e2VkaXRvckNvbnRlbnR9XG4gICAgICAgICAgICAgIGlzQXV0aGVudGljYXRlZD17aXNBdXRoZW50aWNhdGVkfVxuICAgICAgICAgICAgICBvblN0b3JhZ2VNZXRob2RTZWxlY3Q9e3NldFNlbGVjdGVkU3RvcmFnZU9wdGlvbn1cbiAgICAgICAgICAgICAgaXNNb2JpbGU9e3RydWV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRGVza3RvcCBMYXlvdXQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1kZXNrdG9wXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNGaXJzdFNhdmUgJiYgd29yZENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd1NhdmVCbG9ja2NoYWluTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBzZXRJc0ZpcnN0U2F2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZVN0cmluZyA9IG5vdy50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBcbiAgICAgICAgICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZXRBdXRvU2F2ZVN0YXR1cyhg4pyTIFNhdmVkIGF0ICR7dGltZVN0cmluZ31gKTtcbiAgICAgICAgICAgICAgICBzZXRMYXN0U2F2ZVRpbWUobm93KTtcbiAgICAgICAgICAgICAgICBzZXRVbnNhdmVkQ2hhbmdlcyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRBdXRvU2F2ZVN0YXR1cygnJyksIDUwMDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIGhhc2hEb2N1bWVudCgpO1xuICAgICAgICAgICAgICAgICAgc2V0QXV0b1NhdmVTdGF0dXMoYOKbk++4jyBTYXZpbmcgdG8gYmxvY2tjaGFpbi4uLmApO1xuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldEF1dG9TYXZlU3RhdHVzKGDinJMgU2F2ZWQgdG8gYmxvY2tjaGFpbiBhdCAke3RpbWVTdHJpbmd9YCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0QXV0b1NhdmVTdGF0dXMoJycpLCA1MDAwKTtcbiAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX0gXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgd29yZENvdW50ID09PSAwfSBcbiAgICAgICAgICAgICAgdGl0bGU9e3dvcmRDb3VudCA9PT0gMCA/IFwiU3RhcnQgdHlwaW5nIHRvIHNhdmVcIiA6IGlzRmlyc3RTYXZlID8gXCJTYXZlIHRvIGJsb2NrY2hhaW5cIiA6IFwiU2F2ZSBjaGFuZ2VzXCJ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17d29yZENvdW50ID4gMCA/ICdzYXZlLWJ0bi1hY3RpdmUnIDogJ3NhdmUtYnRuLWluYWN0aXZlJ31cbiAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAnNnB4JywgbWFyZ2luUmlnaHQ6ICcyMHB4JyB9fT5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHN0eWxlPXt7bWFyZ2luUmlnaHQ6ICc4cHgnfX0+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNSw5SDVWNUgxNU0xMiwxOUEzLDMgMCAwLDEgOSwxNkEzLDMgMCAwLDEgMTIsMTNBMywzIDAgMCwxIDE1LDE2QTMsMyAwIDAsMSAxMiwxOU0xNywzSDVDMy44OSwzIDMsMy45IDMsNVYxOUEyLDIgMCAwLDAgNSwyMUgxOUEyLDIgMCAwLDAgMjEsMTlWN0wxNywzWlwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIFNhdmVcbiAgICAgICAgICAgICAge3dvcmRDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMXB4JywgXG4gICAgICAgICAgICAgICAgICBjb2xvcjogZXN0aW1hdGVkQ29zdCA+IDAuMDEgPyAnI2ZmOTkwMCcgOiAnIzAwZmYwMCcsXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOSxcbiAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnODVweCcsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdyaWdodCdcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgIHtjdXJyZW50UHJpY2V9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7dW5zYXZlZENoYW5nZXMgJiYgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICcjZmY5OTAwJyB9fT7igKI8L3NwYW4+fVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXQgPSBwcm9tcHQoJ0V4cG9ydCBhczogdHh0LCBodG1sLCBtZCwgb3IgZG9jeD8nLCAnZG9jeCcpO1xuICAgICAgICAgICAgICAgIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChsb2NhbERvY3VtZW50SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jID0gTG9jYWxEb2N1bWVudFN0b3JhZ2UuZ2V0RG9jdW1lbnQobG9jYWxEb2N1bWVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdkb2N4Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVpbGxFeHBvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXhwb3J0LWJ0bicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1aWxsRXhwb3J0KSAocXVpbGxFeHBvcnQgYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChbJ3R4dCcsICdodG1sJywgJ21kJ10uaW5jbHVkZXMoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxEb2N1bWVudFN0b3JhZ2UuZXhwb3J0RG9jdW1lbnQoZG9jLCBmb3JtYXQgYXMgJ3R4dCcgfCAnaHRtbCcgfCAnbWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbihgRXhwb3J0ZWQgYXMgJHtmb3JtYXQudG9VcHBlckNhc2UoKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgdGl0bGU9XCJFeHBvcnQgZG9jdW1lbnQgdG8gZmlsZVwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE0LDJINkEyLDIgMCAwLDAgNCw0VjIwQTIsMiAwIDAsMCA2LDIySDE4QTIsMiAwIDAsMCAyMCwyMFY4TDE0LDJNMTgsMjBINlY0SDEzVjlIMThWMjBaXCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgRXhwb3J0Li4uXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1NhdmVCbG9ja2NoYWluTW9kYWwodHJ1ZSl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt3b3JkQ291bnQgPT09IDB9XG4gICAgICAgICAgICAgIHRpdGxlPVwiU2F2ZSB3aXRoIGFkdmFuY2VkIG9wdGlvbnMgKGVuY3J5cHRpb24sIHByaWNpbmcsIGV0Yy4pXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2F2ZS1vcHRpb25zLWJ0blwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyLDE1LjVBMy41LDMuNSAwIDAsMSA4LjUsMTJBMy41LDMuNSAwIDAsMSAxMiw4LjVBMy41LDMuNSAwIDAsMSAxNS41LDEyQTMuNSwzLjUgMCAwLDEgMTIsMTUuNU0xOS40MywxMi45N0MxOS40NywxMi42NSAxOS41LDEyLjMzIDE5LjUsMTJDMTkuNSwxMS42NyAxOS40NywxMS4zNCAxOS40MywxMS4wM0wyMS41NCw5LjM3QzIxLjczLDkuMjIgMjEuNzgsOC45NSAyMS42Niw4LjczTDE5LjY2LDUuMjdDMTkuNTQsNS4wNSAxOS4yNyw0Ljk2IDE5LjA1LDUuMDVMMTYuNTYsNi4wNUMxNi4wNCw1LjY2IDE1LjUsNS4zMiAxNC44Nyw1LjA3TDE0LjUsMi40MkMxNC40NiwyLjE4IDE0LjI1LDIgMTQsMkgxMEM5Ljc1LDIgOS41NCwyLjE4IDkuNSwyLjQyTDkuMTMsNS4wN0M4LjUsNS4zMiA3Ljk2LDUuNjYgNy40NCw2LjA1TDQuOTUsNS4wNUM0LjczLDQuOTYgNC40Niw1LjA1IDQuMzQsNS4yN0wyLjM0LDguNzNDMi4yMiw4Ljk1IDIuMjcsOS4yMiAyLjQ2LDkuMzdMNC41NywxMS4wM0M0LjUzLDExLjM0IDQuNSwxMS42NyA0LjUsMTJDNC41LDEyLjMzIDQuNTMsMTIuNjUgNC41NywxMi45N0wyLjQ2LDE0LjYzQzIuMjcsMTQuNzggMi4yMiwxNS4wNSAyLjM0LDE1LjI3TDQuMzQsMTguNzNDNC40NiwxOC45NSA0LjczLDE5LjAzIDQuOTUsMTguOTVMNy40NCwxNy45NEM3Ljk2LDE4LjM0IDguNSwxOC42OCA5LjEzLDE4LjkzTDkuNSwyMS41OEM5LjU0LDIxLjgyIDkuNzUsMjIgMTAsMjJIMTRDMTQuMjUsMjIgMTQuNDYsMjEuODIgMTQuNSwyMS41OEwxNC44NywxOC45M0MxNS41LDE4LjY4IDE2LjA0LDE4LjM0IDE2LjU2LDE3Ljk0TDE5LjA1LDE4Ljk1QzE5LjI3LDE5LjAzIDE5LjU0LDE4Ljk1IDE5LjY2LDE4LjczTDIxLjY2LDE1LjI3QzIxLjc4LDE1LjA1IDIxLjczLDE0Ljc4IDIxLjU0LDE0LjYzTDE5LjQzLDEyLjk3WlwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIFNhdmUgdG8gQmxvY2tjaGFpblxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRQcmVzZWxlY3RlZE1vZGUoJ2VuY3J5cHQnKTtcbiAgICAgICAgICAgICAgICBzZXRTaG93U2F2ZUJsb2NrY2hhaW5Nb2RhbCh0cnVlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ30gXG4gICAgICAgICAgICAgIHRpdGxlPVwiRW5jcnlwdCBhbmQgc2F2ZSBwcml2YXRlbHkgb24gYmxvY2tjaGFpblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVuY3J5cHQtYnRuXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBzdHlsZT17e21hcmdpblJpZ2h0OiAnOHB4J319PlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTIsMUwzLDVWMTFDMywxNi41NSA2Ljg0LDIxLjc0IDEyLDIzQzE3LjE2LDIxLjc0IDIxLDE2LjU1IDIxLDExVjVMMTIsMU0xMiw3QzEzLjQsNyAxNC44LDguNiAxNC44LDEwVjExSDE1QzE1LjYsMTEgMTYsMTEuNCAxNiwxMlYxOEMxNiwxOC42IDE1LjYsMTkgMTUsMTlIOUM4LjQsMTkgOCwxOC42IDgsMThWMTJDOCwxMS40IDguNCwxMSA5LDExSDkuMlYxMEM5LjIsOC42IDEwLjYsNyAxMiw3TTEyLDguMkMxMS4yLDguMiAxMC4yLDguNyAxMC4yLDEwVjExSDEzLjhWMTBDMTMuOCw4LjcgMTIuOCw4LjIgMTIsOC4yWlwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIEVuY3J5cHQgb24gQ2hhaW5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHNldFNob3dTYXZlQmxvY2tjaGFpbk1vZGFsKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZXRTaG93UHVibGlzaE1vZGFsKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgdGl0bGU9XCJQdWJsaXNoIGRvY3VtZW50IHB1YmxpY2x5IG9uIGJsb2NrY2hhaW5cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwdWJsaXNoLWJ0blwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE3LjksMTcuMzlDMTcuNjQsMTYuNTkgMTYuODksMTYgMTYsMTZIMTVWMTNBMSwxIDAgMCwwIDE0LDEySDhWMTBIMTBBMSwxIDAgMCwwIDExLDlWN0gxM0EyLDIgMCAwLDAgMTUsNVY0LjU5QzE3LjkzLDUuNzcgMjAsOC42NCAyMCwxMkMyMCwxNC4wOCAxOS4yLDE1Ljk3IDE3LjksMTcuMzlNMTEsMTkuOTNDNy4wNSwxOS40NCA0LDE2LjA4IDQsMTJDNCwxMS4zOCA0LjA4LDEwLjc4IDQuMjEsMTAuMjFMOSwxNVYxNkEyLDIgMCAwLDAgMTEsMThNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJaXCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgUHVibGlzaCB0byBDaGFpblxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRQcmVzZWxlY3RlZE1vZGUoJ3NjaGVkdWxlJyk7XG4gICAgICAgICAgICAgICAgc2V0U2hvd1NhdmVCbG9ja2NoYWluTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgIHRpdGxlPVwiU2NoZWR1bGUgYXV0b21hdGljIHB1YmxpY2F0aW9uIGF0IGEgZnV0dXJlIGRhdGVcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzY2hlZHVsZS1idG5cIj5cbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHN0eWxlPXt7bWFyZ2luUmlnaHQ6ICc4cHgnfX0+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xOSwxOUg1VjhIMTlNMTYsMVYzSDhWMUg2VjNINUMzLjg5LDMgMywzLjg5IDMsNVYxOUEyLDIgMCAwLDAgNSwyMUgxOUEyLDIgMCAwLDAgMjEsMTlWNUMyMSwzLjg5IDIwLjEsMyAxOSwzSDE4VjFNMTcsMTJIMTJWMTdIMTdWMTJaXCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgU2NoZWR1bGUgUHVibGljYXRpb25cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2luc2VydEltYWdlfSB0aXRsZT1cIkFkZCBpbWFnZXMgdG8geW91ciBkb2N1bWVudCAoaW5jbHVkZWQgaW4gYmxvY2tjaGFpbiBzdG9yYWdlIGNvc3QpXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBzdHlsZT17e21hcmdpblJpZ2h0OiAnOHB4J319PlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOSwyVjcuMzhMMTAuNSw4Ljg4TDEyLDcuMzhWMkg5TTIwLDVWMTlDMjAsMjAuMSAxOS4xLDIxIDE4LDIxSDZDNC44OSwyMSA0LDIwLjEgNCwxOVY1QzQsMy44OSA0Ljg5LDMgNiwzSDdWOUw5LjUsNi41TDEyLDlWM0gxOEMxOS4xLDMgMjAsMy44OSAyMCw1WlwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIEFkZCBJbWFnZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd1NhdmVCbG9ja2NoYWluTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVNldFByaWNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICB0aXRsZT1cIlNldCBwcmljZSByZWFkZXJzIG11c3QgcGF5IHRvIHJlYWQgeW91ciBkb2N1bWVudFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByaWNlLWJ0blwiPlxuICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJzhweCd9fT5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcsMTVIOUM5LDE2LjA4IDEwLjM3LDE3IDEyLDE3QzEzLjYzLDE3IDE1LDE2LjA4IDE1LDE1QzE1LDEzLjkgMTMuOTYsMTMuNSAxMS43NiwxMi45N0M5LjY0LDEyLjQ0IDcsMTEuNzggNyw5QzcsNy4yMSA4LjQ3LDUuNjkgMTAuNSw1LjE4VjNIMTMuNVY1LjE4QzE1LjUzLDUuNjkgMTcsNy4yMSAxNyw5SDE1QzE1LDcuOTIgMTMuNjMsNyAxMiw3QzEwLjM3LDcgOSw3LjkyIDksOUM5LDEwLjEgMTAuMDQsMTAuNSAxMi4yNCwxMS4wM0MxNC4zNiwxMS41NiAxNywxMi4yMiAxNywxNUMxNywxNi43OSAxNS41MywxOC4zMSAxMy41LDE4LjgyVjIxSDEwLjVWMTguODJDOC40NywxOC4zMSA3LDE2Ljc5IDcsMTVaXCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgU2V0IFByaWNlIHRvIFJlYWQge3JlYWRQcmljZSA+IDAgPyBgKCQke3JlYWRQcmljZX0pYCA6ICcnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHNldFNob3dTYXZlQmxvY2tjaGFpbk1vZGFsKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZXRTaG93VHdpdHRlck1vZGFsKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgdGl0bGU9XCJTaGFyZSB5b3VyIHdyaXRpbmcgb24gVHdpdHRlclwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInR3aXR0ZXItc2hhcmUtYnRuXCI+XG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBzdHlsZT17e21hcmdpblJpZ2h0OiAnOHB4J319PlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjIuNDYsNkMyMS42OSw2LjM1IDIwLjg2LDYuNTggMjAsNi42OUMyMC44OCw2LjE2IDIxLjU2LDUuMzIgMjEuODgsNC4zMUMyMS4wNSw0LjgxIDIwLjEzLDUuMTYgMTkuMTYsNS4zNkMxOC4zNyw0LjUgMTcuMjYsNCAxNiw0QzEzLjY1LDQgMTEuNzMsNS45MiAxMS43Myw4LjI5QzExLjczLDguNjMgMTEuNzcsOC45NiAxMS44NCw5LjI3QzguMjgsOS4wOSA1LjExLDcuMzggMyw0Ljc5QzIuNjMsNS40MiAyLjQyLDYuMTYgMi40Miw2Ljk0QzIuNDIsOC40MyAzLjE3LDkuNzUgNC4zMywxMC41QzMuNjIsMTAuNSAyLjk2LDEwLjMgMi4zOCwxMEMyLjM4LDEwIDIuMzgsMTAgMi4zOCwxMC4wM0MyLjM4LDEyLjExIDMuODYsMTMuODUgNS44MiwxNC4yNEM1LjQ2LDE0LjM0IDUuMDgsMTQuMzkgNC42OSwxNC4zOUM0LjQyLDE0LjM5IDQuMTUsMTQuMzYgMy44OSwxNC4zMUM0LjQzLDE2IDYsMTcuMjYgNy44OSwxNy4yOUM2LjQzLDE4LjQ1IDQuNTgsMTkuMTMgMi41NiwxOS4xM0MyLjIyLDE5LjEzIDEuODgsMTkuMTEgMS41NCwxOS4wN0MzLjQ0LDIwLjI5IDUuNywyMSA4LjEyLDIxQzE2LDIxIDIwLjMzLDE0LjQ2IDIwLjMzLDguNzlDMjAuMzMsOC42IDIwLjMzLDguNDIgMjAuMzIsOC4yM0MyMS4xNiw3LjYzIDIxLjg4LDYuODcgMjIuNDYsNlpcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICBQb3N0IHRvIFR3aXR0ZXJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgcmVmPXtpbWFnZUlucHV0UmVmfVxuICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbWFnZVNlbGVjdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4+e3dvcmRDb3VudH0gd29yZHt3b3JkQ291bnQgIT09IDEgPyAncycgOiAnJ308L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj57Y2hhckNvdW50fSBjaGFyYWN0ZXJ7Y2hhckNvdW50ICE9PSAxID8gJ3MnIDogJyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0b2dnbGVEYXJrTW9kZX0gdGl0bGU9e2BTd2l0Y2ggdG8gJHtpc0RhcmtNb2RlID8gJ0xpZ2h0JyA6ICdEYXJrJ30gTW9kZWB9PlxuICAgICAgICAgICAgICB7aXNEYXJrTW9kZSA/ICfimIDvuI8nIDogJ/CfjJknfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd1ZlcnNpb25pbmdNb2RhbCh0cnVlKX0gdGl0bGU9XCJEb2N1bWVudCBWZXJzaW9uaW5nICYgSW5zY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAg4puT77iPXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0b2dnbGVGdWxsc2NyZWVufSB0aXRsZT1cIlRvZ2dsZSBGdWxsc2NyZWVuXCI+XG4gICAgICAgICAgICAgIOKbtlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWNvbnRhaW5lclwiPlxuICAgICAgICB7Y3VycmVudERvY3VtZW50Py5tZXRhZGF0YSAmJiAoY3VycmVudERvY3VtZW50Lm1ldGFkYXRhIGFzIGFueSkuaXNQZGYgPyAoXG4gICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgc3JjPXsoY3VycmVudERvY3VtZW50Lm1ldGFkYXRhIGFzIGFueSkucGRmVXJsfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHRpdGxlPXtjdXJyZW50RG9jdW1lbnQudGl0bGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8VGlwdGFwRWRpdG9yXG4gICAgICAgICAgICBjb250ZW50PXt0aXB0YXBDb250ZW50IHx8IGVkaXRvckNvbnRlbnR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgc2V0VGlwdGFwQ29udGVudChjb250ZW50KTtcbiAgICAgICAgICAgICAgc2V0RWRpdG9yQ29udGVudChjb250ZW50KTtcbiAgICAgICAgICAgICAgc2V0VW5zYXZlZENoYW5nZXModHJ1ZSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25UZXh0Q2hhbmdlPXsodGV4dCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB3b3JkcyA9IHRleHQudHJpbSgpID8gdGV4dC50cmltKCkuc3BsaXQoL1xccysvKS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICBjb25zdCBjaGFycyA9IHRleHQubGVuZ3RoO1xuICAgICAgICAgICAgICBzZXRXb3JkQ291bnQod29yZHMpO1xuICAgICAgICAgICAgICBzZXRDaGFyQ291bnQoY2hhcnMpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGNoYXJzID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gY2hhcnM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2F0c1BlckJ5dGUgPSAwLjA1O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbmVyRmVlU2F0cyA9IGJ5dGVzICogc2F0c1BlckJ5dGU7XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxGZWVTYXRzID0gbWluZXJGZWVTYXRzICogMjtcbiAgICAgICAgICAgICAgICBjb25zdCBic3ZQcmljZVVzZCA9IDYwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhdHNQZXJCc3YgPSAxMDBfMDAwXzAwMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFVTRCA9ICh0b3RhbEZlZVNhdHMgLyBzYXRzUGVyQnN2KSAqIGJzdlByaWNlVXNkO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEVzdGltYXRlZENvc3QodG90YWxVU0QpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFByaWNlID0gYCR7dG90YWxVU0QudG9GaXhlZCg4KX1gO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQcmljZShmb3JtYXR0ZWRQcmljZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFByaWNlKCckMC4wMDAwMDAwMCcpO1xuICAgICAgICAgICAgICAgIHNldEVzdGltYXRlZENvc3QoMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlN0YXJ0IHdyaXRpbmcgeW91ciBkb2N1bWVudC4uLlwiXG4gICAgICAgICAgICBpc0RhcmtNb2RlPXtpc0RhcmtNb2RlfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0dXMtYmFyXCI+XG4gICAgICAgIHtjdXJyZW50RG9jdW1lbnQ/Lm1ldGFkYXRhICYmIChjdXJyZW50RG9jdW1lbnQubWV0YWRhdGEgYXMgYW55KS5pc1BkZiA/IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPHNwYW4+8J+TkSBQREYgRG9jdW1lbnQ8L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj57Y3VycmVudERvY3VtZW50Py50aXRsZSB8fCAnVW50aXRsZWQnfTwvc3Bhbj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPHNwYW4+e2N1cnNvclBvc2l0aW9ufTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImF1dG8tc2F2ZS1zdGF0dXNcIj57YXV0b1NhdmVTdGF0dXN9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4+e2N1cnJlbnREb2N1bWVudD8udGl0bGUgfHwgJ1VudGl0bGVkJ308L3NwYW4+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgXG4gICAgICA8UHVibGlzaFNldHRpbmdzTW9kYWxcbiAgICAgICAgaXNPcGVuPXtzaG93UHVibGlzaE1vZGFsfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93UHVibGlzaE1vZGFsKGZhbHNlKX1cbiAgICAgICAgb25Db25maXJtPXsoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgICBzZXRQdWJsaXNoU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdQdWJsaXNoIHNldHRpbmdzOicsIHNldHRpbmdzKTtcbiAgICAgICAgfX1cbiAgICAgICAgY3VycmVudFNldHRpbmdzPXtwdWJsaXNoU2V0dGluZ3MgfHwgdW5kZWZpbmVkfVxuICAgICAgICBkb2N1bWVudFRpdGxlPXtjdXJyZW50RG9jdW1lbnQ/LnRpdGxlIHx8ICdVbnRpdGxlZCd9XG4gICAgICAvPlxuXG4gICAgICA8U2F2ZVRvQmxvY2tjaGFpbk1vZGFsXG4gICAgICAgIGlzT3Blbj17c2hvd1NhdmVCbG9ja2NoYWluTW9kYWx9XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICBzZXRTaG93U2F2ZUJsb2NrY2hhaW5Nb2RhbChmYWxzZSk7XG4gICAgICAgICAgc2V0UHJlc2VsZWN0ZWRNb2RlKG51bGwpO1xuICAgICAgICB9fVxuICAgICAgICBvblNhdmU9e2hhbmRsZUJsb2NrY2hhaW5TYXZlfVxuICAgICAgICBkb2N1bWVudFRpdGxlPXtjdXJyZW50RG9jdW1lbnQ/LnRpdGxlIHx8ICdVbnRpdGxlZCBEb2N1bWVudCd9XG4gICAgICAgIHdvcmRDb3VudD17d29yZENvdW50fVxuICAgICAgICBlc3RpbWF0ZWRTaXplPXtjaGFyQ291bnR9XG4gICAgICAgIGlzQXV0aGVudGljYXRlZD17aXNBdXRoZW50aWNhdGVkfVxuICAgICAgICBvbkF1dGhSZXF1aXJlZD17b25BdXRoUmVxdWlyZWR9XG4gICAgICAgIHByZXNlbGVjdGVkTW9kZT17cHJlc2VsZWN0ZWRNb2RlfVxuICAgICAgLz5cblxuICAgICAgPFRva2VuaXplTW9kYWxcbiAgICAgICAgaXNPcGVuPXtzaG93VG9rZW5pemVNb2RhbH1cbiAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd1Rva2VuaXplTW9kYWwoZmFsc2UpfVxuICAgICAgICBvblRva2VuaXplPXtoYW5kbGVUb2tlbml6ZX1cbiAgICAgICAgZG9jdW1lbnRUaXRsZT17Y3VycmVudERvY3VtZW50Py50aXRsZSB8fCAnVW50aXRsZWQgRG9jdW1lbnQnfVxuICAgICAgICB3b3JkQ291bnQ9e3dvcmRDb3VudH1cbiAgICAgIC8+XG5cbiAgICAgIDxQb3N0VG9Ud2l0dGVyTW9kYWxcbiAgICAgICAgaXNPcGVuPXtzaG93VHdpdHRlck1vZGFsfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93VHdpdHRlck1vZGFsKGZhbHNlKX1cbiAgICAgICAgZG9jdW1lbnRUaXRsZT17Y3VycmVudERvY3VtZW50Py50aXRsZSB8fCAnVW50aXRsZWQgRG9jdW1lbnQnfVxuICAgICAgICBkb2N1bWVudENvbnRlbnQ9e3RpcHRhcENvbnRlbnQgfHwgZWRpdG9yQ29udGVudH1cbiAgICAgIC8+XG4gICAgICBcbiAgICAgIDxEb2N1bWVudFZlcnNpb25pbmdNb2RhbFxuICAgICAgICBpc09wZW49e3Nob3dWZXJzaW9uaW5nTW9kYWx9XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dWZXJzaW9uaW5nTW9kYWwoZmFsc2UpfVxuICAgICAgICBkb2N1bWVudElkPXtsb2NhbERvY3VtZW50SWQgfHwgY3VycmVudERvY3VtZW50Py5pZCB8fCAndGVtcC1kb2MnfVxuICAgICAgICBjdXJyZW50Q29udGVudD17dGlwdGFwQ29udGVudCB8fCBlZGl0b3JDb250ZW50fVxuICAgICAgICBkb2N1bWVudFRpdGxlPXtjdXJyZW50RG9jdW1lbnQ/LnRpdGxlIHx8ICdVbnRpdGxlZCBEb2N1bWVudCd9XG4gICAgICAgIGF1dGhvckFkZHJlc3M9e2RvY3VtZW50U2VydmljZT8uaGFuZGNhc2hTZXJ2aWNlPy5nZXRDdXJyZW50VXNlcigpPy5wYXltYWlsIHx8ICd1bmtub3duJ31cbiAgICAgICAgYXV0aG9ySGFuZGxlPXtkb2N1bWVudFNlcnZpY2U/LmhhbmRjYXNoU2VydmljZT8uZ2V0Q3VycmVudFVzZXIoKT8uaGFuZGxlfVxuICAgICAgLz5cbiAgICAgIFxuICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1vdmVybGF5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGlubmVyXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgPERyYWdEcm9wWm9uZVxuICAgICAgICBvbkZpbGVEcm9wPXtoYW5kbGVGaWxlRHJvcH1cbiAgICAgICAgaXNBdXRoZW50aWNhdGVkPXtpc0F1dGhlbnRpY2F0ZWR9XG4gICAgICAgIG9uQXV0aFJlcXVpcmVkPXtvbkF1dGhSZXF1aXJlZCB8fCAoKCkgPT4ge30pfVxuICAgICAgLz5cblxuICAgICAgPEFJQ2hhdFdpbmRvd1xuICAgICAgICBpc09wZW49e3Nob3dBSUNoYXR9XG4gICAgICAgIG9uQ2xvc2U9e2hhbmRsZVRvZ2dsZUFJQ2hhdH1cbiAgICAgICAgb25JbnNlcnRUb0RvY3VtZW50PXtoYW5kbGVJbnNlcnRGcm9tQUl9XG4gICAgICAgIHNlbGVjdGVkUHJvdmlkZXI9e3NlbGVjdGVkQUlQcm92aWRlcn1cbiAgICAgICAgb25Qcm92aWRlckNoYW5nZT17c2V0U2VsZWN0ZWRBSVByb3ZpZGVyfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERvY3VtZW50RWRpdG9yO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIlByaWNpbmdEaXNwbGF5IiwiUHVibGlzaFNldHRpbmdzTW9kYWwiLCJTYXZlVG9CbG9ja2NoYWluTW9kYWwiLCJUb2tlbml6ZU1vZGFsIiwiUG9zdFRvVHdpdHRlck1vZGFsIiwiRG9jdW1lbnRWZXJzaW9uaW5nTW9kYWwiLCJCU1ZTdG9yYWdlU2VydmljZSIsIkhhbmRDYXNoSXRlbXNTZXJ2aWNlIiwiSGFuZENhc2hTZXJ2aWNlIiwiTG9jYWxEb2N1bWVudFN0b3JhZ2UiLCJDcnlwdG9KUyIsIlRpcHRhcEVkaXRvciIsIkRyYWdEcm9wWm9uZSIsIkFJQ2hhdFdpbmRvdyIsIkFJU2VydmljZSIsIkRvY3VtZW50RWRpdG9yIiwiZG9jdW1lbnRTZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkIiwib25BdXRoUmVxdWlyZWQiLCJjdXJyZW50RG9jdW1lbnQiLCJwcm9wRG9jdW1lbnQiLCJvbkRvY3VtZW50VXBkYXRlIiwib25Eb2N1bWVudFNhdmVkIiwic2hvd0FJQ2hhdCIsInByb3BTaG93QUlDaGF0Iiwib25Ub2dnbGVBSUNoYXQiLCJzZXRDdXJyZW50RG9jdW1lbnQiLCJsb2NhbERvY3VtZW50SWQiLCJzZXRMb2NhbERvY3VtZW50SWQiLCJpc0Z1bGxzY3JlZW4iLCJzZXRJc0Z1bGxzY3JlZW4iLCJ3b3JkQ291bnQiLCJzZXRXb3JkQ291bnQiLCJjaGFyQ291bnQiLCJzZXRDaGFyQ291bnQiLCJjdXJzb3JQb3NpdGlvbiIsInNldEN1cnNvclBvc2l0aW9uIiwiYXV0b1NhdmVTdGF0dXMiLCJzZXRBdXRvU2F2ZVN0YXR1cyIsImxhc3RTYXZlVGltZSIsInNldExhc3RTYXZlVGltZSIsInVuc2F2ZWRDaGFuZ2VzIiwic2V0VW5zYXZlZENoYW5nZXMiLCJsYXN0SGFzaFRpbWUiLCJzZXRMYXN0SGFzaFRpbWUiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJzZWxlY3RlZFN0b3JhZ2VPcHRpb24iLCJzZXRTZWxlY3RlZFN0b3JhZ2VPcHRpb24iLCJlZGl0b3JDb250ZW50Iiwic2V0RWRpdG9yQ29udGVudCIsImludGVybmFsU2hvd0FJQ2hhdCIsInNldEludGVybmFsU2hvd0FJQ2hhdCIsInNlbGVjdGVkQUlQcm92aWRlciIsInNldFNlbGVjdGVkQUlQcm92aWRlciIsImFpU2VydmljZSIsImhhbmRsZVRvZ2dsZUFJQ2hhdCIsInNob3dQdWJsaXNoTW9kYWwiLCJzZXRTaG93UHVibGlzaE1vZGFsIiwicHVibGlzaFNldHRpbmdzIiwic2V0UHVibGlzaFNldHRpbmdzIiwiaXNFbmNyeXB0ZWQiLCJzZXRJc0VuY3J5cHRlZCIsInJlYWRQcmljZSIsInNldFJlYWRQcmljZSIsInNob3dTYXZlQmxvY2tjaGFpbk1vZGFsIiwic2V0U2hvd1NhdmVCbG9ja2NoYWluTW9kYWwiLCJwcmVzZWxlY3RlZE1vZGUiLCJzZXRQcmVzZWxlY3RlZE1vZGUiLCJzaG93QWN0aW9uc0Ryb3Bkb3duIiwic2V0U2hvd0FjdGlvbnNEcm9wZG93biIsImlzRGFya01vZGUiLCJzZXRJc0RhcmtNb2RlIiwic2F2ZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2hvd1Rva2VuaXplTW9kYWwiLCJzZXRTaG93VG9rZW5pemVNb2RhbCIsInNob3dUd2l0dGVyTW9kYWwiLCJzZXRTaG93VHdpdHRlck1vZGFsIiwic2hvd1ZlcnNpb25pbmdNb2RhbCIsInNldFNob3dWZXJzaW9uaW5nTW9kYWwiLCJic3ZTZXJ2aWNlIiwiaGFuZGNhc2hTZXJ2aWNlIiwidW5kZWZpbmVkIiwidGlwdGFwQ29udGVudCIsInNldFRpcHRhcENvbnRlbnQiLCJjdXJyZW50UHJpY2UiLCJzZXRDdXJyZW50UHJpY2UiLCJlc3RpbWF0ZWRDb3N0Iiwic2V0RXN0aW1hdGVkQ29zdCIsImlzRmlyc3RTYXZlIiwic2V0SXNGaXJzdFNhdmUiLCJpbWFnZUlucHV0UmVmIiwibG9hZExvY2FsRG9jdW1lbnQiLCJkb2NJZCIsImdldEN1cnJlbnREb2N1bWVudElkIiwiZG9jIiwiZ2V0RG9jdW1lbnQiLCJleGlzdGluZ0RvY3MiLCJnZXRBbGxEb2N1bWVudHMiLCJsZW5ndGgiLCJtb3N0UmVjZW50Iiwic29ydCIsImEiLCJiIiwiRGF0ZSIsInVwZGF0ZWRfYXQiLCJnZXRUaW1lIiwic2V0Q3VycmVudERvY3VtZW50SWQiLCJpZCIsInRpdGxlIiwiY29udGVudCIsIm1ldGFkYXRhIiwiY3JlYXRlZF9hdCIsImF1dGhvciIsImdldEN1cnJlbnRVc2VyIiwiaGFuZGxlIiwiZW5jcnlwdGVkIiwid29yZF9jb3VudCIsImNoYXJhY3Rlcl9jb3VudCIsImlzSW5pdGlhbE1vdW50IiwicHJldlByb3BEb2N1bWVudCIsInBkZkRvYyIsInN0b3JhZ2VfbWV0aG9kIiwiYmxvY2tjaGFpbl90eCIsInN0b3JhZ2VfY29zdCIsImlzUGRmIiwicGRmVXJsIiwiY3VycmVudCIsInRleHQiLCJyZXBsYWNlIiwiZmlyc3RMaW5lIiwic3BsaXQiLCJ0cmltIiwic3Vic3RyaW5nIiwiYXV0b1NhdmUiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiaGFuZGxlT3BlblRva2VuaXplTW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZU9wZW5Ud2l0dGVyTW9kYWwiLCJoYW5kbGVPcGVuU2F2ZVRvQmxvY2tjaGFpbiIsImRvY0RhdGEiLCJoYW5kbGVJbnNlcnRGcm9tQUkiLCJjdXJyZW50Q29udGVudCIsIm5ld0NvbnRlbnQiLCJodG1sQ29udGVudCIsImpvaW4iLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJleHRyYWN0VGl0bGVGcm9tQ29udGVudCIsIm5ld0RvYyIsImNyZWF0ZU5ld0RvY3VtZW50Iiwic2F2ZURvY3VtZW50IiwiaGFzVW5zYXZlZENoYW5nZXMiLCJoYW5kbGVOZXdEb2N1bWVudCIsImhhbmRsZUJsb2NrY2hhaW5TYXZlIiwib3B0aW9ucyIsInJlc3VsdCIsIm1vbmV0aXphdGlvbiIsImVuYWJsZUFzc2V0IiwiYXV0aFRva2VuIiwiZ2V0QWNjZXNzVG9rZW4iLCJhbGVydCIsIml0ZW1zU2VydmljZSIsImFzc2V0RGF0YSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInF1YW50aXR5IiwibWF4U3VwcGx5IiwiaW5pdGlhbFByaWNlIiwicm95YWx0eVBlcmNlbnRhZ2UiLCJyYXJpdHkiLCJkb2N1bWVudENvbnRlbnQiLCJkb2N1bWVudE1ldGFkYXRhIiwibm93IiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJjb250ZW50SGFzaCIsImNhbGN1bGF0ZUNvbnRlbnRIYXNoIiwic3RvcmFnZU1ldGhvZCIsImFzc2V0UmVzdWx0IiwibWludERvY3VtZW50TkZUIiwic3VjY2VzcyIsIm1hcmtldFVybCIsInN0b3JlRG9jdW1lbnRXaXRoT3B0aW9ucyIsIkVycm9yIiwiZXJyb3IiLCJ1cGRhdGVkRG9jIiwidHJhbnNhY3Rpb25JZCIsInN0b3JhZ2VDb3N0IiwidG90YWxVU0QiLCJlbmNyeXB0aW9uIiwidW5sb2NrTGluayIsInBheW1lbnRBZGRyZXNzIiwiY29uc29sZSIsImhhbmRsZVRva2VuaXplIiwicHJvdG9jb2wiLCJsb2ciLCJ0b1VwcGVyQ2FzZSIsIm1lc3NhZ2UiLCJ1cGRhdGVEb2N1bWVudCIsInByZXYiLCJsYXN0VXBkYXRlZCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ0aW1lU3RyaW5nIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImhhc2hEb2N1bWVudCIsImNsZWFySW50ZXJ2YWwiLCJoYXNoIiwiU0hBMjU2IiwidG9TdHJpbmciLCJ0aW1lc3RhbXAiLCJpc19oYXNoZWQiLCJodG1sIiwidGVtcERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0IiwiaW5zZXJ0SW1hZ2UiLCJjbGljayIsImhhbmRsZUltYWdlU2VsZWN0IiwiZSIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldmVudCIsImluc2VydEltYWdlSW50b0VkaXRvciIsInJlYWRBc0RhdGFVUkwiLCJpbWFnZVNyYyIsImZpbGVOYW1lIiwiaGFuZGxlS2V5RG93biIsImN0cmxLZXkiLCJtZXRhS2V5Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVGdWxsc2NyZWVuIiwiZXhlY0NvbW1hbmQiLCJoYW5kbGVGaWxlRHJvcCIsImkiLCJ0eXBlIiwic3RhcnRzV2l0aCIsInNob3dOb3RpZmljYXRpb24iLCJlbmRzV2l0aCIsImltcG9ydEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJkYXRhVHJhbnNmZXIiLCJEYXRhVHJhbnNmZXIiLCJpdGVtcyIsImFkZCIsImZpbGVJbnB1dCIsImdldEVsZW1lbnRCeUlkIiwiRXZlbnQiLCJidWJibGVzIiwicmVhZEFzVGV4dCIsImhhbmRsZVBhc3RlIiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJub3RpZmljYXRpb24iLCJjbGFzc05hbWUiLCJzdHlsZSIsImNzc1RleHQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvcGFjaXR5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaGFuZGxlRW5jcnlwdCIsImhhbmRsZVNldFByaWNlIiwicHJpY2UiLCJwcm9tcHQiLCJpc05hTiIsIk51bWJlciIsInRvZ2dsZURhcmtNb2RlIiwibmV3RGFya01vZGUiLCJzZXRJdGVtIiwiZGl2IiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwic3ZnIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwiZmlsbCIsIm1hcmdpblJpZ2h0IiwicGF0aCIsImQiLCJzcGFuIiwiY2hhcmFjdGVyQ291bnQiLCJvblN0b3JhZ2VNZXRob2RTZWxlY3QiLCJpc01vYmlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZ2FwIiwiZm9udFNpemUiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJtaW5XaWR0aCIsInRleHRBbGlnbiIsImZvcm1hdCIsInF1aWxsRXhwb3J0IiwiaW5jbHVkZXMiLCJleHBvcnREb2N1bWVudCIsImlucHV0IiwicmVmIiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJpZnJhbWUiLCJzcmMiLCJib3JkZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvblRleHRDaGFuZ2UiLCJ3b3JkcyIsImNoYXJzIiwiYnl0ZXMiLCJzYXRzUGVyQnl0ZSIsIm1pbmVyRmVlU2F0cyIsInRvdGFsRmVlU2F0cyIsImJzdlByaWNlVXNkIiwic2F0c1BlckJzdiIsImZvcm1hdHRlZFByaWNlIiwidG9GaXhlZCIsInBsYWNlaG9sZGVyIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uQ29uZmlybSIsInNldHRpbmdzIiwiY3VycmVudFNldHRpbmdzIiwiZG9jdW1lbnRUaXRsZSIsIm9uU2F2ZSIsImVzdGltYXRlZFNpemUiLCJvblRva2VuaXplIiwiZG9jdW1lbnRJZCIsImF1dGhvckFkZHJlc3MiLCJwYXltYWlsIiwiYXV0aG9ySGFuZGxlIiwib25GaWxlRHJvcCIsIm9uSW5zZXJ0VG9Eb2N1bWVudCIsInNlbGVjdGVkUHJvdmlkZXIiLCJvblByb3ZpZGVyQ2hhbmdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/DocumentEditor.tsx\n"));

/***/ })

});